<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info - test/test262/data/harness/testIntl.js</title>
  <link rel="stylesheet" type="text/css" href="../../../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../../../index.html">top level</a> - <a href="index.html">test/test262/data/harness</a> - testIntl.js<span style="font-size: 80%;"> (source / <a href="testIntl.js.func.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">1204</td>
            <td class="headerCovTableEntry">1206</td>
            <td class="headerCovTableEntryHi">99.8 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2017-02-14</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">43</td>
            <td class="headerCovTableEntry">45</td>
            <td class="headerCovTableEntryHi">95.6 %</td>
          </tr>
          <tr><td><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span><span class="lineCov">        142 : // Copyright 2011-2012 Norbert Lindenberg. All rights reserved.</span></a>
<span class="lineNum">       2 </span><span class="lineCov">        142 : // Copyright 2012-2013 Mozilla Corporation. All rights reserved.</span>
<span class="lineNum">       3 </span><span class="lineCov">        142 : // This code is governed by the BSD license found in the LICENSE file.</span>
<span class="lineNum">       4 </span><span class="lineCov">        142 : </span>
<span class="lineNum">       5 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">       6 </span><span class="lineCov">        142 :  * This file contains shared functions for the tests in the conformance test</span>
<span class="lineNum">       7 </span><span class="lineCov">        142 :  * suite for the ECMAScript Internationalization API.</span>
<span class="lineNum">       8 </span><span class="lineCov">        142 :  * @author Norbert Lindenberg</span>
<span class="lineNum">       9 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">      10 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      11 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      12 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">      13 </span><span class="lineCov">        142 :  * @description Calls the provided function for every service constructor in</span>
<span class="lineNum">      14 </span><span class="lineCov">        142 :  * the Intl object, until f returns a falsy value. It returns the result of the</span>
<span class="lineNum">      15 </span><span class="lineCov">        142 :  * last call to f, mapped to a boolean.</span>
<span class="lineNum">      16 </span><span class="lineCov">        142 :  * @param {Function} f the function to call for each service constructor in</span>
<span class="lineNum">      17 </span><span class="lineCov">        142 :  *     the Intl object.</span>
<span class="lineNum">      18 </span><span class="lineCov">        142 :  *     @param {Function} Constructor the constructor object to test with.</span>
<a name="19"><span class="lineNum">      19 </span><span class="lineCov">        142 :  * @result {Boolean} whether the test succeeded.</span></a>
<span class="lineNum">      20 </span><span class="lineCov">        142 :  */</span>
<a name="21"><span class="lineNum">      21 </span><span class="lineCov">        142 : function testWithIntlConstructors(f) {</span></a>
<span class="lineNum">      22 </span><span class="lineCov">         46 :     var constructors = [&quot;Collator&quot;, &quot;NumberFormat&quot;, &quot;DateTimeFormat&quot;];</span>
<span class="lineNum">      23 </span><span class="lineCov">        122 :     return constructors.every(function (constructor) {</span>
<span class="lineNum">      24 </span><span class="lineCov">        122 :         var Constructor = Intl[constructor];</span>
<span class="lineNum">      25 </span><span class="lineCov">        122 :         var result;</span>
<span class="lineNum">      26 </span><span class="lineCov">        122 :         try {</span>
<span class="lineNum">      27 </span><span class="lineCov">        122 :             result = f(Constructor);</span>
<span class="lineNum">      28 </span><span class="lineCov">        122 :         } catch (e) {</span>
<span class="lineNum">      29 </span><span class="lineCov">        122 :             e.message += &quot; (Testing with &quot; + constructor + &quot;.)&quot;;</span>
<span class="lineNum">      30 </span><span class="lineCov">        122 :             throw e;</span>
<span class="lineNum">      31 </span><span class="lineCov">        122 :         }</span>
<span class="lineNum">      32 </span><span class="lineCov">        122 :         return result;</span>
<span class="lineNum">      33 </span><span class="lineCov">        122 :     });</span>
<span class="lineNum">      34 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">      35 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      36 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      37 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">      38 </span><span class="lineCov">        142 :  * Returns the name of the given constructor object, which must be one of</span>
<span class="lineNum">      39 </span><span class="lineCov">        142 :  * Intl.Collator, Intl.NumberFormat, or Intl.DateTimeFormat.</span>
<span class="lineNum">      40 </span><span class="lineCov">        142 :  * @param {object} Constructor a constructor</span>
<a name="41"><span class="lineNum">      41 </span><span class="lineCov">        142 :  * @return {string} the name of the constructor</span></a>
<span class="lineNum">      42 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">      43 </span><span class="lineCov">        146 : function getConstructorName(Constructor) {</span>
<span class="lineNum">      44 </span><span class="lineCov">          8 :     switch (Constructor) {</span>
<span class="lineNum">      45 </span><span class="lineCov">          8 :         case Intl.Collator:</span>
<span class="lineNum">      46 </span><span class="lineCov">          8 :             return &quot;Collator&quot;;</span>
<span class="lineNum">      47 </span><span class="lineCov">          8 :         case Intl.NumberFormat:</span>
<span class="lineNum">      48 </span><span class="lineCov">          8 :             return &quot;NumberFormat&quot;;</span>
<span class="lineNum">      49 </span><span class="lineCov">          8 :         case Intl.DateTimeFormat:</span>
<span class="lineNum">      50 </span><span class="lineCov">          8 :             return &quot;DateTimeFormat&quot;;</span>
<span class="lineNum">      51 </span><span class="lineCov">          8 :         default:</span>
<span class="lineNum">      52 </span><span class="lineCov">          8 :             $ERROR(&quot;test internal error: unknown Constructor&quot;);</span>
<span class="lineNum">      53 </span><span class="lineCov">          8 :     }</span>
<span class="lineNum">      54 </span><span class="lineCov">        146 : }</span>
<span class="lineNum">      55 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      56 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      57 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">      58 </span><span class="lineCov">        142 :  * Taints a named data property of the given object by installing</span>
<span class="lineNum">      59 </span><span class="lineCov">        142 :  * a setter that throws an exception.</span>
<span class="lineNum">      60 </span><span class="lineCov">        142 :  * @param {object} obj the object whose data property to taint</span>
<a name="61"><span class="lineNum">      61 </span><span class="lineCov">        142 :  * @param {string} property the property to taint</span></a>
<span class="lineNum">      62 </span><span class="lineCov">        142 :  */</span>
<a name="63"><span class="lineNum">      63 </span><span class="lineCov">        438 : function taintDataProperty(obj, property) {</span></a>
<span class="lineNum">      64 </span><span class="lineCov">        326 :     Object.defineProperty(obj, property, {</span>
<span class="lineNum">      65 </span><span class="lineCov">        326 :         set: function(value) {</span>
<span class="lineNum">      66 </span><span class="lineNoCov">          0 :             $ERROR(&quot;Client code can adversely affect behavior: setter for &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">      67 </span><span class="lineCov">        326 :         },</span>
<span class="lineNum">      68 </span><span class="lineCov">        326 :         enumerable: false,</span>
<span class="lineNum">      69 </span><span class="lineCov">        326 :         configurable: true</span>
<span class="lineNum">      70 </span><span class="lineCov">        326 :     });</span>
<span class="lineNum">      71 </span><span class="lineCov">        438 : }</span>
<span class="lineNum">      72 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      73 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      74 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">      75 </span><span class="lineCov">        142 :  * Taints a named method of the given object by replacing it with a function</span>
<span class="lineNum">      76 </span><span class="lineCov">        142 :  * that throws an exception.</span>
<span class="lineNum">      77 </span><span class="lineCov">        142 :  * @param {object} obj the object whose method to taint</span>
<a name="78"><span class="lineNum">      78 </span><span class="lineCov">        142 :  * @param {string} property the name of the method to taint</span></a>
<span class="lineNum">      79 </span><span class="lineCov">        142 :  */</span>
<a name="80"><span class="lineNum">      80 </span><span class="lineCov">        158 : function taintMethod(obj, property) {</span></a>
<span class="lineNum">      81 </span><span class="lineCov">         20 :     Object.defineProperty(obj, property, {</span>
<span class="lineNum">      82 </span><span class="lineCov">         20 :         value: function() {</span>
<span class="lineNum">      83 </span><span class="lineNoCov">          0 :             $ERROR(&quot;Client code can adversely affect behavior: method &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">      84 </span><span class="lineCov">         20 :         },</span>
<span class="lineNum">      85 </span><span class="lineCov">         20 :         writable: true,</span>
<span class="lineNum">      86 </span><span class="lineCov">         20 :         enumerable: false,</span>
<span class="lineNum">      87 </span><span class="lineCov">         20 :         configurable: true</span>
<span class="lineNum">      88 </span><span class="lineCov">         20 :     });</span>
<span class="lineNum">      89 </span><span class="lineCov">        158 : }</span>
<span class="lineNum">      90 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      91 </span><span class="lineCov">        142 : </span>
<span class="lineNum">      92 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">      93 </span><span class="lineCov">        142 :  * Taints the given properties (and similarly named properties) by installing</span>
<span class="lineNum">      94 </span><span class="lineCov">        142 :  * setters on Object.prototype that throw exceptions.</span>
<a name="95"><span class="lineNum">      95 </span><span class="lineCov">        142 :  * @param {Array} properties an array of property names to taint</span></a>
<a name="96"><span class="lineNum">      96 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">      97 </span><span class="lineCov">        142 : function taintProperties(properties) {</span>
<a name="98"><span class="lineNum">      98 </span><span class="lineCov">         62 :     properties.forEach(function (property) {</span></a>
<span class="lineNum">      99 </span><span class="lineCov">         62 :         var adaptedProperties = [property, &quot;__&quot; + property, &quot;_&quot; + property, property + &quot;_&quot;, property + &quot;__&quot;];</span>
<span class="lineNum">     100 </span><span class="lineCov">        310 :         adaptedProperties.forEach(function (property) {</span>
<span class="lineNum">     101 </span><span class="lineCov">        310 :             taintDataProperty(Object.prototype, property);</span>
<span class="lineNum">     102 </span><span class="lineCov">        310 :         });</span>
<span class="lineNum">     103 </span><span class="lineCov">         62 :     });</span>
<span class="lineNum">     104 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">     105 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     106 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     107 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     108 </span><span class="lineCov">        142 :  * Taints the Array object by creating a setter for the property &quot;0&quot; and</span>
<a name="109"><span class="lineNum">     109 </span><span class="lineCov">        142 :  * replacing some key methods with functions that throw exceptions.</span></a>
<span class="lineNum">     110 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     111 </span><span class="lineCov">        142 : function taintArray() {</span>
<span class="lineNum">     112 </span><span class="lineCov">          4 :     taintDataProperty(Array.prototype, &quot;0&quot;);</span>
<span class="lineNum">     113 </span><span class="lineCov">          4 :     taintMethod(Array.prototype, &quot;indexOf&quot;);</span>
<span class="lineNum">     114 </span><span class="lineCov">          4 :     taintMethod(Array.prototype, &quot;join&quot;);</span>
<span class="lineNum">     115 </span><span class="lineCov">          4 :     taintMethod(Array.prototype, &quot;push&quot;);</span>
<span class="lineNum">     116 </span><span class="lineCov">          4 :     taintMethod(Array.prototype, &quot;slice&quot;);</span>
<span class="lineNum">     117 </span><span class="lineCov">          4 :     taintMethod(Array.prototype, &quot;sort&quot;);</span>
<span class="lineNum">     118 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">     119 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     120 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     121 </span><span class="lineCov">        142 : // auxiliary data for getLocaleSupportInfo</span>
<span class="lineNum">     122 </span><span class="lineCov">        142 : var languages = [&quot;zh&quot;, &quot;es&quot;, &quot;en&quot;, &quot;hi&quot;, &quot;ur&quot;, &quot;ar&quot;, &quot;ja&quot;, &quot;pa&quot;];</span>
<span class="lineNum">     123 </span><span class="lineCov">        142 : var scripts = [&quot;Latn&quot;, &quot;Hans&quot;, &quot;Deva&quot;, &quot;Arab&quot;, &quot;Jpan&quot;, &quot;Hant&quot;];</span>
<span class="lineNum">     124 </span><span class="lineCov">        142 : var countries = [&quot;CN&quot;, &quot;IN&quot;, &quot;US&quot;, &quot;PK&quot;, &quot;JP&quot;, &quot;TW&quot;, &quot;HK&quot;, &quot;SG&quot;];</span>
<span class="lineNum">     125 </span><span class="lineCov">        142 : var localeSupportInfo = {};</span>
<span class="lineNum">     126 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     127 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     128 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     129 </span><span class="lineCov">        142 :  * Gets locale support info for the given constructor object, which must be one</span>
<span class="lineNum">     130 </span><span class="lineCov">        142 :  * of Intl.Collator, Intl.NumberFormat, Intl.DateTimeFormat.</span>
<span class="lineNum">     131 </span><span class="lineCov">        142 :  * @param {object} Constructor the constructor for which to get locale support info</span>
<span class="lineNum">     132 </span><span class="lineCov">        142 :  * @return {object} locale support info with the following properties:</span>
<span class="lineNum">     133 </span><span class="lineCov">        142 :  *     supported: array of fully supported language tags</span>
<span class="lineNum">     134 </span><span class="lineCov">        142 :  *     byFallback: array of language tags that are supported through fallbacks</span>
<a name="135"><span class="lineNum">     135 </span><span class="lineCov">        142 :  *     unsupported: array of unsupported language tags</span></a>
<span class="lineNum">     136 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     137 </span><span class="lineCov">        146 : function getLocaleSupportInfo(Constructor) {</span>
<span class="lineNum">     138 </span><span class="lineCov">          8 :     var constructorName = getConstructorName(Constructor);</span>
<span class="lineNum">     139 </span><span class="lineCov">          8 :     if (localeSupportInfo[constructorName] !== undefined) {</span>
<span class="lineNum">     140 </span><span class="lineCov">          8 :         return localeSupportInfo[constructorName];</span>
<span class="lineNum">     141 </span><span class="lineCov">          8 :     }</span>
<span class="lineNum">     142 </span><span class="lineCov">          8 : </span>
<span class="lineNum">     143 </span><span class="lineCov">          8 :     var allTags = [];</span>
<span class="lineNum">     144 </span><span class="lineCov">          8 :     var i, j, k;</span>
<span class="lineNum">     145 </span><span class="lineCov">          8 :     var language, script, country;</span>
<span class="lineNum">     146 </span><span class="lineCov">          8 :     for (i = 0; i &lt; languages.length; i++) {</span>
<span class="lineNum">     147 </span><span class="lineCov">          8 :         language = languages[i];</span>
<span class="lineNum">     148 </span><span class="lineCov">          8 :         allTags.push(language);</span>
<span class="lineNum">     149 </span><span class="lineCov">          8 :         for (j = 0; j &lt; scripts.length; j++) {</span>
<span class="lineNum">     150 </span><span class="lineCov">          8 :             script = scripts[j];</span>
<span class="lineNum">     151 </span><span class="lineCov">          8 :             allTags.push(language + &quot;-&quot; + script);</span>
<span class="lineNum">     152 </span><span class="lineCov">          8 :             for (k = 0; k &lt; countries.length; k++) {</span>
<span class="lineNum">     153 </span><span class="lineCov">          8 :                 country = countries[k];</span>
<span class="lineNum">     154 </span><span class="lineCov">          8 :                 allTags.push(language + &quot;-&quot; + script + &quot;-&quot; + country);</span>
<span class="lineNum">     155 </span><span class="lineCov">          8 :             }</span>
<span class="lineNum">     156 </span><span class="lineCov">          8 :         }</span>
<span class="lineNum">     157 </span><span class="lineCov">          8 :         for (k = 0; k &lt; countries.length; k++) {</span>
<span class="lineNum">     158 </span><span class="lineCov">          8 :             country = countries[k];</span>
<span class="lineNum">     159 </span><span class="lineCov">          8 :             allTags.push(language + &quot;-&quot; + country);</span>
<span class="lineNum">     160 </span><span class="lineCov">          8 :         }</span>
<span class="lineNum">     161 </span><span class="lineCov">          8 :     }</span>
<span class="lineNum">     162 </span><span class="lineCov">          8 :     </span>
<span class="lineNum">     163 </span><span class="lineCov">          8 :     var supported = [];</span>
<span class="lineNum">     164 </span><span class="lineCov">          8 :     var byFallback = [];</span>
<span class="lineNum">     165 </span><span class="lineCov">          8 :     var unsupported = [];</span>
<span class="lineNum">     166 </span><span class="lineCov">          8 :     for (i = 0; i &lt; allTags.length; i++) {</span>
<span class="lineNum">     167 </span><span class="lineCov">          8 :         var request = allTags[i];</span>
<span class="lineNum">     168 </span><span class="lineCov">          8 :         var result = new Constructor([request], {localeMatcher: &quot;lookup&quot;}).resolvedOptions().locale;</span>
<span class="lineNum">     169 </span><span class="lineCov">          8 :          if (request === result) {</span>
<span class="lineNum">     170 </span><span class="lineCov">          8 :             supported.push(request);</span>
<span class="lineNum">     171 </span><span class="lineCov">          8 :         } else if (request.indexOf(result) === 0) {</span>
<span class="lineNum">     172 </span><span class="lineCov">          8 :             byFallback.push(request);</span>
<span class="lineNum">     173 </span><span class="lineCov">          8 :         } else {</span>
<span class="lineNum">     174 </span><span class="lineCov">          8 :             unsupported.push(request);</span>
<span class="lineNum">     175 </span><span class="lineCov">          8 :         }</span>
<span class="lineNum">     176 </span><span class="lineCov">          8 :     }</span>
<span class="lineNum">     177 </span><span class="lineCov">          8 :     </span>
<span class="lineNum">     178 </span><span class="lineCov">          8 :     localeSupportInfo[constructorName] = {</span>
<span class="lineNum">     179 </span><span class="lineCov">          8 :         supported: supported,</span>
<span class="lineNum">     180 </span><span class="lineCov">          8 :         byFallback: byFallback,</span>
<span class="lineNum">     181 </span><span class="lineCov">          8 :         unsupported: unsupported</span>
<span class="lineNum">     182 </span><span class="lineCov">          8 :     };</span>
<span class="lineNum">     183 </span><span class="lineCov">          8 :     </span>
<span class="lineNum">     184 </span><span class="lineCov">          8 :     return localeSupportInfo[constructorName];</span>
<span class="lineNum">     185 </span><span class="lineCov">        146 : }</span>
<span class="lineNum">     186 </span><span class="lineCov">        142 :         </span>
<span class="lineNum">     187 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     188 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     189 </span><span class="lineCov">        142 :  * @description Tests whether locale is a String value representing a</span>
<span class="lineNum">     190 </span><span class="lineCov">        142 :  * structurally valid and canonicalized BCP 47 language tag, as defined in</span>
<span class="lineNum">     191 </span><span class="lineCov">        142 :  * sections 6.2.2 and 6.2.3 of the ECMAScript Internationalization API</span>
<span class="lineNum">     192 </span><span class="lineCov">        142 :  * Specification.</span>
<span class="lineNum">     193 </span><span class="lineCov">        142 :  * @param {String} locale the string to be tested.</span>
<a name="194"><span class="lineNum">     194 </span><span class="lineCov">        142 :  * @result {Boolean} whether the test succeeded.</span></a>
<span class="lineNum">     195 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     196 </span><span class="lineCov">        154 : function isCanonicalizedStructurallyValidLanguageTag(locale) {</span>
<span class="lineNum">     197 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     198 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     199 </span><span class="lineCov">         32 :      * Regular expression defining BCP 47 language tags.</span>
<span class="lineNum">     200 </span><span class="lineCov">         32 :      *</span>
<span class="lineNum">     201 </span><span class="lineCov">         32 :      * Spec: RFC 5646 section 2.1.</span>
<span class="lineNum">     202 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     203 </span><span class="lineCov">         32 :     var alpha = &quot;[a-zA-Z]&quot;,</span>
<span class="lineNum">     204 </span><span class="lineCov">         32 :         digit = &quot;[0-9]&quot;,</span>
<span class="lineNum">     205 </span><span class="lineCov">         32 :         alphanum = &quot;(&quot; + alpha + &quot;|&quot; + digit + &quot;)&quot;,</span>
<span class="lineNum">     206 </span><span class="lineCov">         32 :         regular = &quot;(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)&quot;,</span>
<span class="lineNum">     207 </span><span class="lineCov">         32 :         irregular = &quot;(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)&quot;,</span>
<span class="lineNum">     208 </span><span class="lineCov">         32 :         grandfathered = &quot;(&quot; + irregular + &quot;|&quot; + regular + &quot;)&quot;,</span>
<span class="lineNum">     209 </span><span class="lineCov">         32 :         privateuse = &quot;(x(-[a-z0-9]{1,8})+)&quot;,</span>
<span class="lineNum">     210 </span><span class="lineCov">         32 :         singleton = &quot;(&quot; + digit + &quot;|[A-WY-Za-wy-z])&quot;,</span>
<span class="lineNum">     211 </span><span class="lineCov">         32 :         extension = &quot;(&quot; + singleton + &quot;(-&quot; + alphanum + &quot;{2,8})+)&quot;,</span>
<span class="lineNum">     212 </span><span class="lineCov">         32 :         variant = &quot;(&quot; + alphanum + &quot;{5,8}|(&quot; + digit + alphanum + &quot;{3}))&quot;,</span>
<span class="lineNum">     213 </span><span class="lineCov">         32 :         region = &quot;(&quot; + alpha + &quot;{2}|&quot; + digit + &quot;{3})&quot;,</span>
<span class="lineNum">     214 </span><span class="lineCov">         32 :         script = &quot;(&quot; + alpha + &quot;{4})&quot;,</span>
<span class="lineNum">     215 </span><span class="lineCov">         32 :         extlang = &quot;(&quot; + alpha + &quot;{3}(-&quot; + alpha + &quot;{3}){0,2})&quot;,</span>
<span class="lineNum">     216 </span><span class="lineCov">         32 :         language = &quot;(&quot; + alpha + &quot;{2,3}(-&quot; + extlang + &quot;)?|&quot; + alpha + &quot;{4}|&quot; + alpha + &quot;{5,8})&quot;,</span>
<span class="lineNum">     217 </span><span class="lineCov">         32 :         langtag = language + &quot;(-&quot; + script + &quot;)?(-&quot; + region + &quot;)?(-&quot; + variant + &quot;)*(-&quot; + extension + &quot;)*(-&quot; + privateuse + &quot;)?&quot;,</span>
<span class="lineNum">     218 </span><span class="lineCov">         32 :         languageTag = &quot;^(&quot; + langtag + &quot;|&quot; + privateuse + &quot;|&quot; + grandfathered + &quot;)$&quot;,</span>
<span class="lineNum">     219 </span><span class="lineCov">         32 :         languageTagRE = new RegExp(languageTag, &quot;i&quot;);</span>
<span class="lineNum">     220 </span><span class="lineCov">         32 :     var duplicateSingleton = &quot;-&quot; + singleton + &quot;-(.*-)?\\1(?!&quot; + alphanum + &quot;)&quot;,</span>
<span class="lineNum">     221 </span><span class="lineCov">         32 :         duplicateSingletonRE = new RegExp(duplicateSingleton, &quot;i&quot;),</span>
<span class="lineNum">     222 </span><span class="lineCov">         32 :         duplicateVariant = &quot;(&quot; + alphanum + &quot;{2,8}-)+&quot; + variant + &quot;-(&quot; + alphanum + &quot;{2,8}-)*\\3(?!&quot; + alphanum + &quot;)&quot;,</span>
<span class="lineNum">     223 </span><span class="lineCov">         32 :         duplicateVariantRE = new RegExp(duplicateVariant, &quot;i&quot;);</span>
<span class="lineNum">     224 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     225 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     226 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     227 </span><span class="lineCov">         32 :      * Verifies that the given string is a well-formed BCP 47 language tag</span>
<span class="lineNum">     228 </span><span class="lineCov">         32 :      * with no duplicate variant or singleton subtags.</span>
<span class="lineNum">     229 </span><span class="lineCov">         32 :      *</span>
<a name="230"><span class="lineNum">     230 </span><span class="lineCov">         32 :      * Spec: ECMAScript Internationalization API Specification, draft, 6.2.2.</span></a>
<span class="lineNum">     231 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     232 </span><span class="lineCov">         32 :     function isStructurallyValidLanguageTag(locale) {</span>
<span class="lineNum">     233 </span><span class="lineCov">         32 :         if (!languageTagRE.test(locale)) {</span>
<span class="lineNum">     234 </span><span class="lineCov">         32 :             return false;</span>
<span class="lineNum">     235 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     236 </span><span class="lineCov">         32 :         locale = locale.split(/-x-/)[0];</span>
<span class="lineNum">     237 </span><span class="lineCov">         32 :         return !duplicateSingletonRE.test(locale) &amp;&amp; !duplicateVariantRE.test(locale);</span>
<span class="lineNum">     238 </span><span class="lineCov">         32 :     }</span>
<span class="lineNum">     239 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     240 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     241 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     242 </span><span class="lineCov">         32 :      * Mappings from complete tags to preferred values.</span>
<span class="lineNum">     243 </span><span class="lineCov">         32 :      *</span>
<span class="lineNum">     244 </span><span class="lineCov">         32 :      * Spec: IANA Language Subtag Registry.</span>
<span class="lineNum">     245 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     246 </span><span class="lineCov">         32 :     var __tagMappings = {</span>
<span class="lineNum">     247 </span><span class="lineCov">         32 :         // property names must be in lower case; values in canonical form</span>
<span class="lineNum">     248 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     249 </span><span class="lineCov">         32 :         // grandfathered tags from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     250 </span><span class="lineCov">         32 :         &quot;art-lojban&quot;: &quot;jbo&quot;,</span>
<span class="lineNum">     251 </span><span class="lineCov">         32 :         &quot;cel-gaulish&quot;: &quot;cel-gaulish&quot;,</span>
<span class="lineNum">     252 </span><span class="lineCov">         32 :         &quot;en-gb-oed&quot;: &quot;en-GB-oed&quot;,</span>
<span class="lineNum">     253 </span><span class="lineCov">         32 :         &quot;i-ami&quot;: &quot;ami&quot;,</span>
<span class="lineNum">     254 </span><span class="lineCov">         32 :         &quot;i-bnn&quot;: &quot;bnn&quot;,</span>
<span class="lineNum">     255 </span><span class="lineCov">         32 :         &quot;i-default&quot;: &quot;i-default&quot;,</span>
<span class="lineNum">     256 </span><span class="lineCov">         32 :         &quot;i-enochian&quot;: &quot;i-enochian&quot;,</span>
<span class="lineNum">     257 </span><span class="lineCov">         32 :         &quot;i-hak&quot;: &quot;hak&quot;,</span>
<span class="lineNum">     258 </span><span class="lineCov">         32 :         &quot;i-klingon&quot;: &quot;tlh&quot;,</span>
<span class="lineNum">     259 </span><span class="lineCov">         32 :         &quot;i-lux&quot;: &quot;lb&quot;,</span>
<span class="lineNum">     260 </span><span class="lineCov">         32 :         &quot;i-mingo&quot;: &quot;i-mingo&quot;,</span>
<span class="lineNum">     261 </span><span class="lineCov">         32 :         &quot;i-navajo&quot;: &quot;nv&quot;,</span>
<span class="lineNum">     262 </span><span class="lineCov">         32 :         &quot;i-pwn&quot;: &quot;pwn&quot;,</span>
<span class="lineNum">     263 </span><span class="lineCov">         32 :         &quot;i-tao&quot;: &quot;tao&quot;,</span>
<span class="lineNum">     264 </span><span class="lineCov">         32 :         &quot;i-tay&quot;: &quot;tay&quot;,</span>
<span class="lineNum">     265 </span><span class="lineCov">         32 :         &quot;i-tsu&quot;: &quot;tsu&quot;,</span>
<span class="lineNum">     266 </span><span class="lineCov">         32 :         &quot;no-bok&quot;: &quot;nb&quot;,</span>
<span class="lineNum">     267 </span><span class="lineCov">         32 :         &quot;no-nyn&quot;: &quot;nn&quot;,</span>
<span class="lineNum">     268 </span><span class="lineCov">         32 :         &quot;sgn-be-fr&quot;: &quot;sfb&quot;,</span>
<span class="lineNum">     269 </span><span class="lineCov">         32 :         &quot;sgn-be-nl&quot;: &quot;vgt&quot;,</span>
<span class="lineNum">     270 </span><span class="lineCov">         32 :         &quot;sgn-ch-de&quot;: &quot;sgg&quot;,</span>
<span class="lineNum">     271 </span><span class="lineCov">         32 :         &quot;zh-guoyu&quot;: &quot;cmn&quot;,</span>
<span class="lineNum">     272 </span><span class="lineCov">         32 :         &quot;zh-hakka&quot;: &quot;hak&quot;,</span>
<span class="lineNum">     273 </span><span class="lineCov">         32 :         &quot;zh-min&quot;: &quot;zh-min&quot;,</span>
<span class="lineNum">     274 </span><span class="lineCov">         32 :         &quot;zh-min-nan&quot;: &quot;nan&quot;,</span>
<span class="lineNum">     275 </span><span class="lineCov">         32 :         &quot;zh-xiang&quot;: &quot;hsn&quot;,</span>
<span class="lineNum">     276 </span><span class="lineCov">         32 :         // deprecated redundant tags from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     277 </span><span class="lineCov">         32 :         &quot;sgn-br&quot;: &quot;bzs&quot;,</span>
<span class="lineNum">     278 </span><span class="lineCov">         32 :         &quot;sgn-co&quot;: &quot;csn&quot;,</span>
<span class="lineNum">     279 </span><span class="lineCov">         32 :         &quot;sgn-de&quot;: &quot;gsg&quot;,</span>
<span class="lineNum">     280 </span><span class="lineCov">         32 :         &quot;sgn-dk&quot;: &quot;dsl&quot;,</span>
<span class="lineNum">     281 </span><span class="lineCov">         32 :         &quot;sgn-es&quot;: &quot;ssp&quot;,</span>
<span class="lineNum">     282 </span><span class="lineCov">         32 :         &quot;sgn-fr&quot;: &quot;fsl&quot;,</span>
<span class="lineNum">     283 </span><span class="lineCov">         32 :         &quot;sgn-gb&quot;: &quot;bfi&quot;,</span>
<span class="lineNum">     284 </span><span class="lineCov">         32 :         &quot;sgn-gr&quot;: &quot;gss&quot;,</span>
<span class="lineNum">     285 </span><span class="lineCov">         32 :         &quot;sgn-ie&quot;: &quot;isg&quot;,</span>
<span class="lineNum">     286 </span><span class="lineCov">         32 :         &quot;sgn-it&quot;: &quot;ise&quot;,</span>
<span class="lineNum">     287 </span><span class="lineCov">         32 :         &quot;sgn-jp&quot;: &quot;jsl&quot;,</span>
<span class="lineNum">     288 </span><span class="lineCov">         32 :         &quot;sgn-mx&quot;: &quot;mfs&quot;,</span>
<span class="lineNum">     289 </span><span class="lineCov">         32 :         &quot;sgn-ni&quot;: &quot;ncs&quot;,</span>
<span class="lineNum">     290 </span><span class="lineCov">         32 :         &quot;sgn-nl&quot;: &quot;dse&quot;,</span>
<span class="lineNum">     291 </span><span class="lineCov">         32 :         &quot;sgn-no&quot;: &quot;nsl&quot;,</span>
<span class="lineNum">     292 </span><span class="lineCov">         32 :         &quot;sgn-pt&quot;: &quot;psr&quot;,</span>
<span class="lineNum">     293 </span><span class="lineCov">         32 :         &quot;sgn-se&quot;: &quot;swl&quot;,</span>
<span class="lineNum">     294 </span><span class="lineCov">         32 :         &quot;sgn-us&quot;: &quot;ase&quot;,</span>
<span class="lineNum">     295 </span><span class="lineCov">         32 :         &quot;sgn-za&quot;: &quot;sfs&quot;,</span>
<span class="lineNum">     296 </span><span class="lineCov">         32 :         &quot;zh-cmn&quot;: &quot;cmn&quot;,</span>
<span class="lineNum">     297 </span><span class="lineCov">         32 :         &quot;zh-cmn-hans&quot;: &quot;cmn-Hans&quot;,</span>
<span class="lineNum">     298 </span><span class="lineCov">         32 :         &quot;zh-cmn-hant&quot;: &quot;cmn-Hant&quot;,</span>
<span class="lineNum">     299 </span><span class="lineCov">         32 :         &quot;zh-gan&quot;: &quot;gan&quot;,</span>
<span class="lineNum">     300 </span><span class="lineCov">         32 :         &quot;zh-wuu&quot;: &quot;wuu&quot;,</span>
<span class="lineNum">     301 </span><span class="lineCov">         32 :         &quot;zh-yue&quot;: &quot;yue&quot;,</span>
<span class="lineNum">     302 </span><span class="lineCov">         32 :         // deprecated variant with prefix from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     303 </span><span class="lineCov">         32 :         &quot;ja-latn-hepburn-heploc&quot;: &quot;ja-Latn-alalc97&quot;</span>
<span class="lineNum">     304 </span><span class="lineCov">         32 :     };</span>
<span class="lineNum">     305 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     306 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     307 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     308 </span><span class="lineCov">         32 :      * Mappings from non-extlang subtags to preferred values.</span>
<span class="lineNum">     309 </span><span class="lineCov">         32 :      *</span>
<span class="lineNum">     310 </span><span class="lineCov">         32 :      * Spec: IANA Language Subtag Registry.</span>
<span class="lineNum">     311 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     312 </span><span class="lineCov">         32 :     var __subtagMappings = {</span>
<span class="lineNum">     313 </span><span class="lineCov">         32 :         // property names and values must be in canonical case</span>
<span class="lineNum">     314 </span><span class="lineCov">         32 :         // language subtags with Preferred-Value mappings from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     315 </span><span class="lineCov">         32 :         &quot;in&quot;: &quot;id&quot;,</span>
<span class="lineNum">     316 </span><span class="lineCov">         32 :         &quot;iw&quot;: &quot;he&quot;,</span>
<span class="lineNum">     317 </span><span class="lineCov">         32 :         &quot;ji&quot;: &quot;yi&quot;,</span>
<span class="lineNum">     318 </span><span class="lineCov">         32 :         &quot;jw&quot;: &quot;jv&quot;,</span>
<span class="lineNum">     319 </span><span class="lineCov">         32 :         &quot;mo&quot;: &quot;ro&quot;,</span>
<span class="lineNum">     320 </span><span class="lineCov">         32 :         &quot;ayx&quot;: &quot;nun&quot;,</span>
<span class="lineNum">     321 </span><span class="lineCov">         32 :         &quot;cjr&quot;: &quot;mom&quot;,</span>
<span class="lineNum">     322 </span><span class="lineCov">         32 :         &quot;cmk&quot;: &quot;xch&quot;,</span>
<span class="lineNum">     323 </span><span class="lineCov">         32 :         &quot;drh&quot;: &quot;khk&quot;,</span>
<span class="lineNum">     324 </span><span class="lineCov">         32 :         &quot;drw&quot;: &quot;prs&quot;,</span>
<span class="lineNum">     325 </span><span class="lineCov">         32 :         &quot;gav&quot;: &quot;dev&quot;,</span>
<span class="lineNum">     326 </span><span class="lineCov">         32 :         &quot;mst&quot;: &quot;mry&quot;,</span>
<span class="lineNum">     327 </span><span class="lineCov">         32 :         &quot;myt&quot;: &quot;mry&quot;,</span>
<span class="lineNum">     328 </span><span class="lineCov">         32 :         &quot;tie&quot;: &quot;ras&quot;,</span>
<span class="lineNum">     329 </span><span class="lineCov">         32 :         &quot;tkk&quot;: &quot;twm&quot;,</span>
<span class="lineNum">     330 </span><span class="lineCov">         32 :         &quot;tnf&quot;: &quot;prs&quot;,</span>
<span class="lineNum">     331 </span><span class="lineCov">         32 :         // region subtags with Preferred-Value mappings from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     332 </span><span class="lineCov">         32 :         &quot;BU&quot;: &quot;MM&quot;,</span>
<span class="lineNum">     333 </span><span class="lineCov">         32 :         &quot;DD&quot;: &quot;DE&quot;,</span>
<span class="lineNum">     334 </span><span class="lineCov">         32 :         &quot;FX&quot;: &quot;FR&quot;,</span>
<span class="lineNum">     335 </span><span class="lineCov">         32 :         &quot;TP&quot;: &quot;TL&quot;,</span>
<span class="lineNum">     336 </span><span class="lineCov">         32 :         &quot;YD&quot;: &quot;YE&quot;,</span>
<span class="lineNum">     337 </span><span class="lineCov">         32 :         &quot;ZR&quot;: &quot;CD&quot;</span>
<span class="lineNum">     338 </span><span class="lineCov">         32 :     };</span>
<span class="lineNum">     339 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     340 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     341 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     342 </span><span class="lineCov">         32 :      * Mappings from extlang subtags to preferred values.</span>
<span class="lineNum">     343 </span><span class="lineCov">         32 :      *</span>
<span class="lineNum">     344 </span><span class="lineCov">         32 :      * Spec: IANA Language Subtag Registry.</span>
<span class="lineNum">     345 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     346 </span><span class="lineCov">         32 :     var __extlangMappings = {</span>
<span class="lineNum">     347 </span><span class="lineCov">         32 :         // extlang subtags with Preferred-Value mappings from IANA language subtag registry, file date 2011-08-25</span>
<span class="lineNum">     348 </span><span class="lineCov">         32 :         // values are arrays with [0] the replacement value, [1] (if present) the prefix to be removed</span>
<span class="lineNum">     349 </span><span class="lineCov">         32 :         &quot;aao&quot;: [&quot;aao&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     350 </span><span class="lineCov">         32 :         &quot;abh&quot;: [&quot;abh&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     351 </span><span class="lineCov">         32 :         &quot;abv&quot;: [&quot;abv&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     352 </span><span class="lineCov">         32 :         &quot;acm&quot;: [&quot;acm&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     353 </span><span class="lineCov">         32 :         &quot;acq&quot;: [&quot;acq&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     354 </span><span class="lineCov">         32 :         &quot;acw&quot;: [&quot;acw&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     355 </span><span class="lineCov">         32 :         &quot;acx&quot;: [&quot;acx&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     356 </span><span class="lineCov">         32 :         &quot;acy&quot;: [&quot;acy&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     357 </span><span class="lineCov">         32 :         &quot;adf&quot;: [&quot;adf&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     358 </span><span class="lineCov">         32 :         &quot;ads&quot;: [&quot;ads&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     359 </span><span class="lineCov">         32 :         &quot;aeb&quot;: [&quot;aeb&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     360 </span><span class="lineCov">         32 :         &quot;aec&quot;: [&quot;aec&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     361 </span><span class="lineCov">         32 :         &quot;aed&quot;: [&quot;aed&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     362 </span><span class="lineCov">         32 :         &quot;aen&quot;: [&quot;aen&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     363 </span><span class="lineCov">         32 :         &quot;afb&quot;: [&quot;afb&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     364 </span><span class="lineCov">         32 :         &quot;afg&quot;: [&quot;afg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     365 </span><span class="lineCov">         32 :         &quot;ajp&quot;: [&quot;ajp&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     366 </span><span class="lineCov">         32 :         &quot;apc&quot;: [&quot;apc&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     367 </span><span class="lineCov">         32 :         &quot;apd&quot;: [&quot;apd&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     368 </span><span class="lineCov">         32 :         &quot;arb&quot;: [&quot;arb&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     369 </span><span class="lineCov">         32 :         &quot;arq&quot;: [&quot;arq&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     370 </span><span class="lineCov">         32 :         &quot;ars&quot;: [&quot;ars&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     371 </span><span class="lineCov">         32 :         &quot;ary&quot;: [&quot;ary&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     372 </span><span class="lineCov">         32 :         &quot;arz&quot;: [&quot;arz&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     373 </span><span class="lineCov">         32 :         &quot;ase&quot;: [&quot;ase&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     374 </span><span class="lineCov">         32 :         &quot;asf&quot;: [&quot;asf&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     375 </span><span class="lineCov">         32 :         &quot;asp&quot;: [&quot;asp&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     376 </span><span class="lineCov">         32 :         &quot;asq&quot;: [&quot;asq&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     377 </span><span class="lineCov">         32 :         &quot;asw&quot;: [&quot;asw&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     378 </span><span class="lineCov">         32 :         &quot;auz&quot;: [&quot;auz&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     379 </span><span class="lineCov">         32 :         &quot;avl&quot;: [&quot;avl&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     380 </span><span class="lineCov">         32 :         &quot;ayh&quot;: [&quot;ayh&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     381 </span><span class="lineCov">         32 :         &quot;ayl&quot;: [&quot;ayl&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     382 </span><span class="lineCov">         32 :         &quot;ayn&quot;: [&quot;ayn&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     383 </span><span class="lineCov">         32 :         &quot;ayp&quot;: [&quot;ayp&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     384 </span><span class="lineCov">         32 :         &quot;bbz&quot;: [&quot;bbz&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     385 </span><span class="lineCov">         32 :         &quot;bfi&quot;: [&quot;bfi&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     386 </span><span class="lineCov">         32 :         &quot;bfk&quot;: [&quot;bfk&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     387 </span><span class="lineCov">         32 :         &quot;bjn&quot;: [&quot;bjn&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     388 </span><span class="lineCov">         32 :         &quot;bog&quot;: [&quot;bog&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     389 </span><span class="lineCov">         32 :         &quot;bqn&quot;: [&quot;bqn&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     390 </span><span class="lineCov">         32 :         &quot;bqy&quot;: [&quot;bqy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     391 </span><span class="lineCov">         32 :         &quot;btj&quot;: [&quot;btj&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     392 </span><span class="lineCov">         32 :         &quot;bve&quot;: [&quot;bve&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     393 </span><span class="lineCov">         32 :         &quot;bvl&quot;: [&quot;bvl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     394 </span><span class="lineCov">         32 :         &quot;bvu&quot;: [&quot;bvu&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     395 </span><span class="lineCov">         32 :         &quot;bzs&quot;: [&quot;bzs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     396 </span><span class="lineCov">         32 :         &quot;cdo&quot;: [&quot;cdo&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     397 </span><span class="lineCov">         32 :         &quot;cds&quot;: [&quot;cds&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     398 </span><span class="lineCov">         32 :         &quot;cjy&quot;: [&quot;cjy&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     399 </span><span class="lineCov">         32 :         &quot;cmn&quot;: [&quot;cmn&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     400 </span><span class="lineCov">         32 :         &quot;coa&quot;: [&quot;coa&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     401 </span><span class="lineCov">         32 :         &quot;cpx&quot;: [&quot;cpx&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     402 </span><span class="lineCov">         32 :         &quot;csc&quot;: [&quot;csc&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     403 </span><span class="lineCov">         32 :         &quot;csd&quot;: [&quot;csd&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     404 </span><span class="lineCov">         32 :         &quot;cse&quot;: [&quot;cse&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     405 </span><span class="lineCov">         32 :         &quot;csf&quot;: [&quot;csf&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     406 </span><span class="lineCov">         32 :         &quot;csg&quot;: [&quot;csg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     407 </span><span class="lineCov">         32 :         &quot;csl&quot;: [&quot;csl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     408 </span><span class="lineCov">         32 :         &quot;csn&quot;: [&quot;csn&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     409 </span><span class="lineCov">         32 :         &quot;csq&quot;: [&quot;csq&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     410 </span><span class="lineCov">         32 :         &quot;csr&quot;: [&quot;csr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     411 </span><span class="lineCov">         32 :         &quot;czh&quot;: [&quot;czh&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     412 </span><span class="lineCov">         32 :         &quot;czo&quot;: [&quot;czo&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     413 </span><span class="lineCov">         32 :         &quot;doq&quot;: [&quot;doq&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     414 </span><span class="lineCov">         32 :         &quot;dse&quot;: [&quot;dse&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     415 </span><span class="lineCov">         32 :         &quot;dsl&quot;: [&quot;dsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     416 </span><span class="lineCov">         32 :         &quot;dup&quot;: [&quot;dup&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     417 </span><span class="lineCov">         32 :         &quot;ecs&quot;: [&quot;ecs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     418 </span><span class="lineCov">         32 :         &quot;esl&quot;: [&quot;esl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     419 </span><span class="lineCov">         32 :         &quot;esn&quot;: [&quot;esn&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     420 </span><span class="lineCov">         32 :         &quot;eso&quot;: [&quot;eso&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     421 </span><span class="lineCov">         32 :         &quot;eth&quot;: [&quot;eth&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     422 </span><span class="lineCov">         32 :         &quot;fcs&quot;: [&quot;fcs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     423 </span><span class="lineCov">         32 :         &quot;fse&quot;: [&quot;fse&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     424 </span><span class="lineCov">         32 :         &quot;fsl&quot;: [&quot;fsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     425 </span><span class="lineCov">         32 :         &quot;fss&quot;: [&quot;fss&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     426 </span><span class="lineCov">         32 :         &quot;gan&quot;: [&quot;gan&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     427 </span><span class="lineCov">         32 :         &quot;gom&quot;: [&quot;gom&quot;, &quot;kok&quot;],</span>
<span class="lineNum">     428 </span><span class="lineCov">         32 :         &quot;gse&quot;: [&quot;gse&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     429 </span><span class="lineCov">         32 :         &quot;gsg&quot;: [&quot;gsg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     430 </span><span class="lineCov">         32 :         &quot;gsm&quot;: [&quot;gsm&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     431 </span><span class="lineCov">         32 :         &quot;gss&quot;: [&quot;gss&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     432 </span><span class="lineCov">         32 :         &quot;gus&quot;: [&quot;gus&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     433 </span><span class="lineCov">         32 :         &quot;hab&quot;: [&quot;hab&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     434 </span><span class="lineCov">         32 :         &quot;haf&quot;: [&quot;haf&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     435 </span><span class="lineCov">         32 :         &quot;hak&quot;: [&quot;hak&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     436 </span><span class="lineCov">         32 :         &quot;hds&quot;: [&quot;hds&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     437 </span><span class="lineCov">         32 :         &quot;hji&quot;: [&quot;hji&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     438 </span><span class="lineCov">         32 :         &quot;hks&quot;: [&quot;hks&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     439 </span><span class="lineCov">         32 :         &quot;hos&quot;: [&quot;hos&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     440 </span><span class="lineCov">         32 :         &quot;hps&quot;: [&quot;hps&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     441 </span><span class="lineCov">         32 :         &quot;hsh&quot;: [&quot;hsh&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     442 </span><span class="lineCov">         32 :         &quot;hsl&quot;: [&quot;hsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     443 </span><span class="lineCov">         32 :         &quot;hsn&quot;: [&quot;hsn&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     444 </span><span class="lineCov">         32 :         &quot;icl&quot;: [&quot;icl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     445 </span><span class="lineCov">         32 :         &quot;ils&quot;: [&quot;ils&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     446 </span><span class="lineCov">         32 :         &quot;inl&quot;: [&quot;inl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     447 </span><span class="lineCov">         32 :         &quot;ins&quot;: [&quot;ins&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     448 </span><span class="lineCov">         32 :         &quot;ise&quot;: [&quot;ise&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     449 </span><span class="lineCov">         32 :         &quot;isg&quot;: [&quot;isg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     450 </span><span class="lineCov">         32 :         &quot;isr&quot;: [&quot;isr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     451 </span><span class="lineCov">         32 :         &quot;jak&quot;: [&quot;jak&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     452 </span><span class="lineCov">         32 :         &quot;jax&quot;: [&quot;jax&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     453 </span><span class="lineCov">         32 :         &quot;jcs&quot;: [&quot;jcs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     454 </span><span class="lineCov">         32 :         &quot;jhs&quot;: [&quot;jhs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     455 </span><span class="lineCov">         32 :         &quot;jls&quot;: [&quot;jls&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     456 </span><span class="lineCov">         32 :         &quot;jos&quot;: [&quot;jos&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     457 </span><span class="lineCov">         32 :         &quot;jsl&quot;: [&quot;jsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     458 </span><span class="lineCov">         32 :         &quot;jus&quot;: [&quot;jus&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     459 </span><span class="lineCov">         32 :         &quot;kgi&quot;: [&quot;kgi&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     460 </span><span class="lineCov">         32 :         &quot;knn&quot;: [&quot;knn&quot;, &quot;kok&quot;],</span>
<span class="lineNum">     461 </span><span class="lineCov">         32 :         &quot;kvb&quot;: [&quot;kvb&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     462 </span><span class="lineCov">         32 :         &quot;kvk&quot;: [&quot;kvk&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     463 </span><span class="lineCov">         32 :         &quot;kvr&quot;: [&quot;kvr&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     464 </span><span class="lineCov">         32 :         &quot;kxd&quot;: [&quot;kxd&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     465 </span><span class="lineCov">         32 :         &quot;lbs&quot;: [&quot;lbs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     466 </span><span class="lineCov">         32 :         &quot;lce&quot;: [&quot;lce&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     467 </span><span class="lineCov">         32 :         &quot;lcf&quot;: [&quot;lcf&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     468 </span><span class="lineCov">         32 :         &quot;liw&quot;: [&quot;liw&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     469 </span><span class="lineCov">         32 :         &quot;lls&quot;: [&quot;lls&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     470 </span><span class="lineCov">         32 :         &quot;lsg&quot;: [&quot;lsg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     471 </span><span class="lineCov">         32 :         &quot;lsl&quot;: [&quot;lsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     472 </span><span class="lineCov">         32 :         &quot;lso&quot;: [&quot;lso&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     473 </span><span class="lineCov">         32 :         &quot;lsp&quot;: [&quot;lsp&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     474 </span><span class="lineCov">         32 :         &quot;lst&quot;: [&quot;lst&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     475 </span><span class="lineCov">         32 :         &quot;lsy&quot;: [&quot;lsy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     476 </span><span class="lineCov">         32 :         &quot;ltg&quot;: [&quot;ltg&quot;, &quot;lv&quot;],</span>
<span class="lineNum">     477 </span><span class="lineCov">         32 :         &quot;lvs&quot;: [&quot;lvs&quot;, &quot;lv&quot;],</span>
<span class="lineNum">     478 </span><span class="lineCov">         32 :         &quot;lzh&quot;: [&quot;lzh&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     479 </span><span class="lineCov">         32 :         &quot;max&quot;: [&quot;max&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     480 </span><span class="lineCov">         32 :         &quot;mdl&quot;: [&quot;mdl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     481 </span><span class="lineCov">         32 :         &quot;meo&quot;: [&quot;meo&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     482 </span><span class="lineCov">         32 :         &quot;mfa&quot;: [&quot;mfa&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     483 </span><span class="lineCov">         32 :         &quot;mfb&quot;: [&quot;mfb&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     484 </span><span class="lineCov">         32 :         &quot;mfs&quot;: [&quot;mfs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     485 </span><span class="lineCov">         32 :         &quot;min&quot;: [&quot;min&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     486 </span><span class="lineCov">         32 :         &quot;mnp&quot;: [&quot;mnp&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     487 </span><span class="lineCov">         32 :         &quot;mqg&quot;: [&quot;mqg&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     488 </span><span class="lineCov">         32 :         &quot;mre&quot;: [&quot;mre&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     489 </span><span class="lineCov">         32 :         &quot;msd&quot;: [&quot;msd&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     490 </span><span class="lineCov">         32 :         &quot;msi&quot;: [&quot;msi&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     491 </span><span class="lineCov">         32 :         &quot;msr&quot;: [&quot;msr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     492 </span><span class="lineCov">         32 :         &quot;mui&quot;: [&quot;mui&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     493 </span><span class="lineCov">         32 :         &quot;mzc&quot;: [&quot;mzc&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     494 </span><span class="lineCov">         32 :         &quot;mzg&quot;: [&quot;mzg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     495 </span><span class="lineCov">         32 :         &quot;mzy&quot;: [&quot;mzy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     496 </span><span class="lineCov">         32 :         &quot;nan&quot;: [&quot;nan&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     497 </span><span class="lineCov">         32 :         &quot;nbs&quot;: [&quot;nbs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     498 </span><span class="lineCov">         32 :         &quot;ncs&quot;: [&quot;ncs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     499 </span><span class="lineCov">         32 :         &quot;nsi&quot;: [&quot;nsi&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     500 </span><span class="lineCov">         32 :         &quot;nsl&quot;: [&quot;nsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     501 </span><span class="lineCov">         32 :         &quot;nsp&quot;: [&quot;nsp&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     502 </span><span class="lineCov">         32 :         &quot;nsr&quot;: [&quot;nsr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     503 </span><span class="lineCov">         32 :         &quot;nzs&quot;: [&quot;nzs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     504 </span><span class="lineCov">         32 :         &quot;okl&quot;: [&quot;okl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     505 </span><span class="lineCov">         32 :         &quot;orn&quot;: [&quot;orn&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     506 </span><span class="lineCov">         32 :         &quot;ors&quot;: [&quot;ors&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     507 </span><span class="lineCov">         32 :         &quot;pel&quot;: [&quot;pel&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     508 </span><span class="lineCov">         32 :         &quot;pga&quot;: [&quot;pga&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     509 </span><span class="lineCov">         32 :         &quot;pks&quot;: [&quot;pks&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     510 </span><span class="lineCov">         32 :         &quot;prl&quot;: [&quot;prl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     511 </span><span class="lineCov">         32 :         &quot;prz&quot;: [&quot;prz&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     512 </span><span class="lineCov">         32 :         &quot;psc&quot;: [&quot;psc&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     513 </span><span class="lineCov">         32 :         &quot;psd&quot;: [&quot;psd&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     514 </span><span class="lineCov">         32 :         &quot;pse&quot;: [&quot;pse&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     515 </span><span class="lineCov">         32 :         &quot;psg&quot;: [&quot;psg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     516 </span><span class="lineCov">         32 :         &quot;psl&quot;: [&quot;psl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     517 </span><span class="lineCov">         32 :         &quot;pso&quot;: [&quot;pso&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     518 </span><span class="lineCov">         32 :         &quot;psp&quot;: [&quot;psp&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     519 </span><span class="lineCov">         32 :         &quot;psr&quot;: [&quot;psr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     520 </span><span class="lineCov">         32 :         &quot;pys&quot;: [&quot;pys&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     521 </span><span class="lineCov">         32 :         &quot;rms&quot;: [&quot;rms&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     522 </span><span class="lineCov">         32 :         &quot;rsi&quot;: [&quot;rsi&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     523 </span><span class="lineCov">         32 :         &quot;rsl&quot;: [&quot;rsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     524 </span><span class="lineCov">         32 :         &quot;sdl&quot;: [&quot;sdl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     525 </span><span class="lineCov">         32 :         &quot;sfb&quot;: [&quot;sfb&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     526 </span><span class="lineCov">         32 :         &quot;sfs&quot;: [&quot;sfs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     527 </span><span class="lineCov">         32 :         &quot;sgg&quot;: [&quot;sgg&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     528 </span><span class="lineCov">         32 :         &quot;sgx&quot;: [&quot;sgx&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     529 </span><span class="lineCov">         32 :         &quot;shu&quot;: [&quot;shu&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     530 </span><span class="lineCov">         32 :         &quot;slf&quot;: [&quot;slf&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     531 </span><span class="lineCov">         32 :         &quot;sls&quot;: [&quot;sls&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     532 </span><span class="lineCov">         32 :         &quot;sqs&quot;: [&quot;sqs&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     533 </span><span class="lineCov">         32 :         &quot;ssh&quot;: [&quot;ssh&quot;, &quot;ar&quot;],</span>
<span class="lineNum">     534 </span><span class="lineCov">         32 :         &quot;ssp&quot;: [&quot;ssp&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     535 </span><span class="lineCov">         32 :         &quot;ssr&quot;: [&quot;ssr&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     536 </span><span class="lineCov">         32 :         &quot;svk&quot;: [&quot;svk&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     537 </span><span class="lineCov">         32 :         &quot;swc&quot;: [&quot;swc&quot;, &quot;sw&quot;],</span>
<span class="lineNum">     538 </span><span class="lineCov">         32 :         &quot;swh&quot;: [&quot;swh&quot;, &quot;sw&quot;],</span>
<span class="lineNum">     539 </span><span class="lineCov">         32 :         &quot;swl&quot;: [&quot;swl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     540 </span><span class="lineCov">         32 :         &quot;syy&quot;: [&quot;syy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     541 </span><span class="lineCov">         32 :         &quot;tmw&quot;: [&quot;tmw&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     542 </span><span class="lineCov">         32 :         &quot;tse&quot;: [&quot;tse&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     543 </span><span class="lineCov">         32 :         &quot;tsm&quot;: [&quot;tsm&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     544 </span><span class="lineCov">         32 :         &quot;tsq&quot;: [&quot;tsq&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     545 </span><span class="lineCov">         32 :         &quot;tss&quot;: [&quot;tss&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     546 </span><span class="lineCov">         32 :         &quot;tsy&quot;: [&quot;tsy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     547 </span><span class="lineCov">         32 :         &quot;tza&quot;: [&quot;tza&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     548 </span><span class="lineCov">         32 :         &quot;ugn&quot;: [&quot;ugn&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     549 </span><span class="lineCov">         32 :         &quot;ugy&quot;: [&quot;ugy&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     550 </span><span class="lineCov">         32 :         &quot;ukl&quot;: [&quot;ukl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     551 </span><span class="lineCov">         32 :         &quot;uks&quot;: [&quot;uks&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     552 </span><span class="lineCov">         32 :         &quot;urk&quot;: [&quot;urk&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     553 </span><span class="lineCov">         32 :         &quot;uzn&quot;: [&quot;uzn&quot;, &quot;uz&quot;],</span>
<span class="lineNum">     554 </span><span class="lineCov">         32 :         &quot;uzs&quot;: [&quot;uzs&quot;, &quot;uz&quot;],</span>
<span class="lineNum">     555 </span><span class="lineCov">         32 :         &quot;vgt&quot;: [&quot;vgt&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     556 </span><span class="lineCov">         32 :         &quot;vkk&quot;: [&quot;vkk&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     557 </span><span class="lineCov">         32 :         &quot;vkt&quot;: [&quot;vkt&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     558 </span><span class="lineCov">         32 :         &quot;vsi&quot;: [&quot;vsi&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     559 </span><span class="lineCov">         32 :         &quot;vsl&quot;: [&quot;vsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     560 </span><span class="lineCov">         32 :         &quot;vsv&quot;: [&quot;vsv&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     561 </span><span class="lineCov">         32 :         &quot;wuu&quot;: [&quot;wuu&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     562 </span><span class="lineCov">         32 :         &quot;xki&quot;: [&quot;xki&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     563 </span><span class="lineCov">         32 :         &quot;xml&quot;: [&quot;xml&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     564 </span><span class="lineCov">         32 :         &quot;xmm&quot;: [&quot;xmm&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     565 </span><span class="lineCov">         32 :         &quot;xms&quot;: [&quot;xms&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     566 </span><span class="lineCov">         32 :         &quot;yds&quot;: [&quot;yds&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     567 </span><span class="lineCov">         32 :         &quot;ysl&quot;: [&quot;ysl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     568 </span><span class="lineCov">         32 :         &quot;yue&quot;: [&quot;yue&quot;, &quot;zh&quot;],</span>
<span class="lineNum">     569 </span><span class="lineCov">         32 :         &quot;zib&quot;: [&quot;zib&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     570 </span><span class="lineCov">         32 :         &quot;zlm&quot;: [&quot;zlm&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     571 </span><span class="lineCov">         32 :         &quot;zmi&quot;: [&quot;zmi&quot;, &quot;ms&quot;],</span>
<span class="lineNum">     572 </span><span class="lineCov">         32 :         &quot;zsl&quot;: [&quot;zsl&quot;, &quot;sgn&quot;],</span>
<span class="lineNum">     573 </span><span class="lineCov">         32 :         &quot;zsm&quot;: [&quot;zsm&quot;, &quot;ms&quot;]</span>
<span class="lineNum">     574 </span><span class="lineCov">         32 :     };</span>
<span class="lineNum">     575 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     576 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     577 </span><span class="lineCov">         32 :     /**</span>
<span class="lineNum">     578 </span><span class="lineCov">         32 :      * Canonicalizes the given well-formed BCP 47 language tag, including regularized case of subtags.</span>
<span class="lineNum">     579 </span><span class="lineCov">         32 :      *</span>
<span class="lineNum">     580 </span><span class="lineCov">         32 :      * Spec: ECMAScript Internationalization API Specification, draft, 6.2.3.</span>
<a name="581"><span class="lineNum">     581 </span><span class="lineCov">         32 :      * Spec: RFC 5646, section 4.5.</span></a>
<span class="lineNum">     582 </span><span class="lineCov">         32 :      */</span>
<span class="lineNum">     583 </span><span class="lineCov">         32 :     function canonicalizeLanguageTag(locale) {</span>
<span class="lineNum">     584 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     585 </span><span class="lineCov">         32 :         // start with lower case for easier processing, and because most subtags will need to be lower case anyway</span>
<span class="lineNum">     586 </span><span class="lineCov">         32 :         locale = locale.toLowerCase();</span>
<span class="lineNum">     587 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     588 </span><span class="lineCov">         32 :         // handle mappings for complete tags</span>
<span class="lineNum">     589 </span><span class="lineCov">         32 :         if (__tagMappings.hasOwnProperty(locale)) {</span>
<span class="lineNum">     590 </span><span class="lineCov">         32 :             return __tagMappings[locale];</span>
<span class="lineNum">     591 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     592 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     593 </span><span class="lineCov">         32 :         var subtags = locale.split(&quot;-&quot;);</span>
<span class="lineNum">     594 </span><span class="lineCov">         32 :         var i = 0;</span>
<span class="lineNum">     595 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     596 </span><span class="lineCov">         32 :         // handle standard part: all subtags before first singleton or &quot;x&quot;</span>
<span class="lineNum">     597 </span><span class="lineCov">         32 :         while (i &lt; subtags.length) {</span>
<span class="lineNum">     598 </span><span class="lineCov">         32 :             var subtag = subtags[i];</span>
<span class="lineNum">     599 </span><span class="lineCov">         32 :             if (subtag.length === 1 &amp;&amp; (i &gt; 0 || subtag === &quot;x&quot;)) {</span>
<span class="lineNum">     600 </span><span class="lineCov">         32 :                 break;</span>
<span class="lineNum">     601 </span><span class="lineCov">         32 :             } else if (i !== 0 &amp;&amp; subtag.length === 2) {</span>
<span class="lineNum">     602 </span><span class="lineCov">         32 :                 subtag = subtag.toUpperCase();</span>
<span class="lineNum">     603 </span><span class="lineCov">         32 :             } else if (subtag.length === 4) {</span>
<span class="lineNum">     604 </span><span class="lineCov">         32 :                 subtag = subtag[0].toUpperCase() + subtag.substring(1).toLowerCase();</span>
<span class="lineNum">     605 </span><span class="lineCov">         32 :             }</span>
<span class="lineNum">     606 </span><span class="lineCov">         32 :             if (__subtagMappings.hasOwnProperty(subtag)) {</span>
<span class="lineNum">     607 </span><span class="lineCov">         32 :                 subtag = __subtagMappings[subtag];</span>
<span class="lineNum">     608 </span><span class="lineCov">         32 :             } else if (__extlangMappings.hasOwnProperty(subtag)) {</span>
<span class="lineNum">     609 </span><span class="lineCov">         32 :                 subtag = __extlangMappings[subtag][0];</span>
<span class="lineNum">     610 </span><span class="lineCov">         32 :                 if (i === 1 &amp;&amp; __extlangMappings[subtag][1] === subtags[0]) {</span>
<span class="lineNum">     611 </span><span class="lineCov">         32 :                     subtags.shift();</span>
<span class="lineNum">     612 </span><span class="lineCov">         32 :                     i--;</span>
<span class="lineNum">     613 </span><span class="lineCov">         32 :                 }</span>
<span class="lineNum">     614 </span><span class="lineCov">         32 :             }</span>
<span class="lineNum">     615 </span><span class="lineCov">         32 :             subtags[i] = subtag;</span>
<span class="lineNum">     616 </span><span class="lineCov">         32 :             i++;</span>
<span class="lineNum">     617 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     618 </span><span class="lineCov">         32 :         var normal = subtags.slice(0, i).join(&quot;-&quot;);</span>
<span class="lineNum">     619 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     620 </span><span class="lineCov">         32 :         // handle extensions</span>
<span class="lineNum">     621 </span><span class="lineCov">         32 :         var extensions = [];</span>
<span class="lineNum">     622 </span><span class="lineCov">         32 :         while (i &lt; subtags.length &amp;&amp; subtags[i] !== &quot;x&quot;) {</span>
<span class="lineNum">     623 </span><span class="lineCov">         32 :             var extensionStart = i;</span>
<span class="lineNum">     624 </span><span class="lineCov">         32 :             i++;</span>
<span class="lineNum">     625 </span><span class="lineCov">         32 :             while (i &lt; subtags.length &amp;&amp; subtags[i].length &gt; 1) {</span>
<span class="lineNum">     626 </span><span class="lineCov">         32 :                 i++;</span>
<span class="lineNum">     627 </span><span class="lineCov">         32 :             }</span>
<span class="lineNum">     628 </span><span class="lineCov">         32 :             var extension = subtags.slice(extensionStart, i).join(&quot;-&quot;);</span>
<span class="lineNum">     629 </span><span class="lineCov">         32 :             extensions.push(extension);</span>
<span class="lineNum">     630 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     631 </span><span class="lineCov">         32 :         extensions.sort();</span>
<span class="lineNum">     632 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     633 </span><span class="lineCov">         32 :         // handle private use</span>
<span class="lineNum">     634 </span><span class="lineCov">         32 :         var privateUse;</span>
<span class="lineNum">     635 </span><span class="lineCov">         32 :         if (i &lt; subtags.length) {</span>
<span class="lineNum">     636 </span><span class="lineCov">         32 :             privateUse = subtags.slice(i).join(&quot;-&quot;);</span>
<span class="lineNum">     637 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     638 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     639 </span><span class="lineCov">         32 :         // put everything back together</span>
<span class="lineNum">     640 </span><span class="lineCov">         32 :         var canonical = normal;</span>
<span class="lineNum">     641 </span><span class="lineCov">         32 :         if (extensions.length &gt; 0) {</span>
<span class="lineNum">     642 </span><span class="lineCov">         32 :             canonical += &quot;-&quot; + extensions.join(&quot;-&quot;);</span>
<span class="lineNum">     643 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     644 </span><span class="lineCov">         32 :         if (privateUse !== undefined) {</span>
<span class="lineNum">     645 </span><span class="lineCov">         32 :             if (canonical.length &gt; 0) {</span>
<span class="lineNum">     646 </span><span class="lineCov">         32 :                 canonical += &quot;-&quot; + privateUse;</span>
<span class="lineNum">     647 </span><span class="lineCov">         32 :             } else {</span>
<span class="lineNum">     648 </span><span class="lineCov">         32 :                 canonical = privateUse;</span>
<span class="lineNum">     649 </span><span class="lineCov">         32 :             }</span>
<span class="lineNum">     650 </span><span class="lineCov">         32 :         }</span>
<span class="lineNum">     651 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     652 </span><span class="lineCov">         32 :         return canonical;</span>
<span class="lineNum">     653 </span><span class="lineCov">         32 :     }</span>
<span class="lineNum">     654 </span><span class="lineCov">         32 : </span>
<span class="lineNum">     655 </span><span class="lineCov">         32 :     return typeof locale === &quot;string&quot; &amp;&amp; isStructurallyValidLanguageTag(locale) &amp;&amp;</span>
<span class="lineNum">     656 </span><span class="lineCov">         32 :             canonicalizeLanguageTag(locale) === locale;</span>
<span class="lineNum">     657 </span><span class="lineCov">        154 : }</span>
<span class="lineNum">     658 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     659 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     660 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     661 </span><span class="lineCov">        142 :  * Tests whether the named options property is correctly handled by the given constructor.</span>
<span class="lineNum">     662 </span><span class="lineCov">        142 :  * @param {object} Constructor the constructor to test.</span>
<span class="lineNum">     663 </span><span class="lineCov">        142 :  * @param {string} property the name of the options property to test.</span>
<span class="lineNum">     664 </span><span class="lineCov">        142 :  * @param {string} type the type that values of the property are expected to have</span>
<span class="lineNum">     665 </span><span class="lineCov">        142 :  * @param {Array} [values] an array of allowed values for the property. Not needed for boolean.</span>
<span class="lineNum">     666 </span><span class="lineCov">        142 :  * @param {any} fallback the fallback value that the property assumes if not provided.</span>
<span class="lineNum">     667 </span><span class="lineCov">        142 :  * @param {object} testOptions additional options:</span>
<span class="lineNum">     668 </span><span class="lineCov">        142 :  *     @param {boolean} isOptional whether support for this property is optional for implementations.</span>
<span class="lineNum">     669 </span><span class="lineCov">        142 :  *     @param {boolean} noReturn whether the resulting value of the property is not returned.</span>
<span class="lineNum">     670 </span><span class="lineCov">        142 :  *     @param {boolean} isILD whether the resulting value of the property is implementation and locale dependent.</span>
<span class="lineNum">     671 </span><span class="lineCov">        142 :  *     @param {object} extra additional option to pass along, properties are value -&gt; {option: value}.</span>
<a name="672"><span class="lineNum">     672 </span><span class="lineCov">        142 :  * @return {boolean} whether the test succeeded.</span></a>
<span class="lineNum">     673 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     674 </span><span class="lineCov">        164 : function testOption(Constructor, property, type, values, fallback, testOptions) {</span>
<span class="lineNum">     675 </span><span class="lineCov">         48 :     var isOptional = testOptions !== undefined &amp;&amp; testOptions.isOptional === true;</span>
<span class="lineNum">     676 </span><span class="lineCov">         48 :     var noReturn = testOptions !== undefined &amp;&amp; testOptions.noReturn === true;</span>
<a name="677"><span class="lineNum">     677 </span><span class="lineCov">         48 :     var isILD = testOptions !== undefined &amp;&amp; testOptions.isILD === true;</span></a>
<span class="lineNum">     678 </span><span class="lineCov">         48 :     </span>
<span class="lineNum">     679 </span><span class="lineCov">        364 :     function addExtraOptions(options, value, testOptions) {</span>
<span class="lineNum">     680 </span><span class="lineCov">        364 :         if (testOptions !== undefined &amp;&amp; testOptions.extra !== undefined) {</span>
<span class="lineNum">     681 </span><span class="lineCov">        364 :             var extra;</span>
<span class="lineNum">     682 </span><span class="lineCov">        364 :             if (value !== undefined &amp;&amp; testOptions.extra[value] !== undefined) {</span>
<span class="lineNum">     683 </span><span class="lineCov">        364 :                 extra = testOptions.extra[value];</span>
<span class="lineNum">     684 </span><span class="lineCov">        364 :             } else if (testOptions.extra.any !== undefined) {</span>
<span class="lineNum">     685 </span><span class="lineCov">        364 :                 extra = testOptions.extra.any;</span>
<a name="686"><span class="lineNum">     686 </span><span class="lineCov">        364 :             }</span></a>
<span class="lineNum">     687 </span><span class="lineCov">        364 :             if (extra !== undefined) {</span>
<span class="lineNum">     688 </span><span class="lineCov">        368 :                 Object.getOwnPropertyNames(extra).forEach(function (prop) {</span>
<span class="lineNum">     689 </span><span class="lineCov">         58 :                     options[prop] = extra[prop];</span>
<span class="lineNum">     690 </span><span class="lineCov">        368 :                 });</span>
<span class="lineNum">     691 </span><span class="lineCov">        364 :             }</span>
<span class="lineNum">     692 </span><span class="lineCov">        364 :         }</span>
<span class="lineNum">     693 </span><span class="lineCov">        364 :     }</span>
<span class="lineNum">     694 </span><span class="lineCov">         48 : </span>
<span class="lineNum">     695 </span><span class="lineCov">         48 :     var testValues, options, obj, expected, actual, error;</span>
<span class="lineNum">     696 </span><span class="lineCov">         48 : </span>
<span class="lineNum">     697 </span><span class="lineCov">         48 :     // test that the specified values are accepted. Also add values that convert to specified values.</span>
<span class="lineNum">     698 </span><span class="lineCov">         48 :     if (type === &quot;boolean&quot;) {</span>
<span class="lineNum">     699 </span><span class="lineCov">         48 :         if (values === undefined) {</span>
<span class="lineNum">     700 </span><span class="lineCov">         48 :             values = [true, false];</span>
<span class="lineNum">     701 </span><span class="lineCov">         48 :         }</span>
<span class="lineNum">     702 </span><span class="lineCov">         48 :         testValues = values.slice(0);</span>
<span class="lineNum">     703 </span><span class="lineCov">         48 :         testValues.push(888);</span>
<span class="lineNum">     704 </span><span class="lineCov">         48 :         testValues.push(0);</span>
<a name="705"><span class="lineNum">     705 </span><span class="lineCov">         48 :     } else if (type === &quot;string&quot;) {</span></a>
<span class="lineNum">     706 </span><span class="lineCov">         48 :         testValues = values.slice(0);</span>
<a name="707"><span class="lineNum">     707 </span><span class="lineCov">         60 :         testValues.push({toString: function () { return values[0]; }});</span></a>
<span class="lineNum">     708 </span><span class="lineCov">         48 :     }</span>
<span class="lineNum">     709 </span><span class="lineCov">        176 :     testValues.forEach(function (value) {</span>
<span class="lineNum">     710 </span><span class="lineCov">        176 :         options = {};</span>
<span class="lineNum">     711 </span><span class="lineCov">        176 :         options[property] = value;</span>
<span class="lineNum">     712 </span><span class="lineCov">        176 :         addExtraOptions(options, value, testOptions);</span>
<span class="lineNum">     713 </span><span class="lineCov">        176 :         obj = new Constructor(undefined, options);</span>
<span class="lineNum">     714 </span><span class="lineCov">        176 :         if (noReturn) {</span>
<span class="lineNum">     715 </span><span class="lineCov">        176 :             if (obj.resolvedOptions().hasOwnProperty(property)) {</span>
<span class="lineNum">     716 </span><span class="lineCov">        176 :                 $ERROR(&quot;Option property &quot; + property + &quot; is returned, but shouldn't be.&quot;);</span>
<span class="lineNum">     717 </span><span class="lineCov">        176 :             }</span>
<span class="lineNum">     718 </span><span class="lineCov">        176 :         } else {</span>
<span class="lineNum">     719 </span><span class="lineCov">        176 :             actual = obj.resolvedOptions()[property];</span>
<span class="lineNum">     720 </span><span class="lineCov">        176 :             if (isILD) {</span>
<span class="lineNum">     721 </span><span class="lineCov">        176 :                 if (actual !== undefined &amp;&amp; values.indexOf(actual) === -1) {</span>
<span class="lineNum">     722 </span><span class="lineCov">        176 :                     $ERROR(&quot;Invalid value &quot; + actual + &quot; returned for property &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">     723 </span><span class="lineCov">        176 :                 }</span>
<span class="lineNum">     724 </span><span class="lineCov">        176 :             } else {</span>
<span class="lineNum">     725 </span><span class="lineCov">        176 :                 if (type === &quot;boolean&quot;) {</span>
<span class="lineNum">     726 </span><span class="lineCov">        176 :                     expected = Boolean(value);</span>
<span class="lineNum">     727 </span><span class="lineCov">        176 :                 } else if (type === &quot;string&quot;) {</span>
<span class="lineNum">     728 </span><span class="lineCov">        176 :                     expected = String(value);</span>
<span class="lineNum">     729 </span><span class="lineCov">        176 :                 }</span>
<span class="lineNum">     730 </span><span class="lineCov">        176 :                 if (actual !== expected &amp;&amp; !(isOptional &amp;&amp; actual === undefined)) {</span>
<span class="lineNum">     731 </span><span class="lineCov">        176 :                     $ERROR(&quot;Option value &quot; + value + &quot; for property &quot; + property +</span>
<span class="lineNum">     732 </span><span class="lineCov">        176 :                         &quot; was not accepted; got &quot; + actual + &quot; instead.&quot;);</span>
<span class="lineNum">     733 </span><span class="lineCov">        176 :                 }</span>
<span class="lineNum">     734 </span><span class="lineCov">        176 :             }</span>
<span class="lineNum">     735 </span><span class="lineCov">        176 :         }</span>
<span class="lineNum">     736 </span><span class="lineCov">        176 :     });</span>
<span class="lineNum">     737 </span><span class="lineCov">         48 : </span>
<span class="lineNum">     738 </span><span class="lineCov">         48 :     // test that invalid values are rejected</span>
<span class="lineNum">     739 </span><span class="lineCov">         48 :     if (type === &quot;string&quot;) {</span>
<span class="lineNum">     740 </span><span class="lineCov">         48 :         var invalidValues = [&quot;invalidValue&quot;, -1, null];</span>
<span class="lineNum">     741 </span><span class="lineCov">         48 :         // assume that we won't have values in caseless scripts</span>
<span class="lineNum">     742 </span><span class="lineCov">         48 :         if (values[0].toUpperCase() !== values[0]) {</span>
<span class="lineNum">     743 </span><span class="lineCov">         48 :             invalidValues.push(values[0].toUpperCase());</span>
<span class="lineNum">     744 </span><span class="lineCov">         48 :         } else {</span>
<a name="745"><span class="lineNum">     745 </span><span class="lineCov">         48 :             invalidValues.push(values[0].toLowerCase());</span></a>
<span class="lineNum">     746 </span><span class="lineCov">         48 :         }</span>
<span class="lineNum">     747 </span><span class="lineCov">        160 :         invalidValues.forEach(function (value) {</span>
<span class="lineNum">     748 </span><span class="lineCov">        152 :             options = {};</span>
<span class="lineNum">     749 </span><span class="lineCov">        152 :             options[property] = value;</span>
<span class="lineNum">     750 </span><span class="lineCov">        152 :             addExtraOptions(options, value, testOptions);</span>
<span class="lineNum">     751 </span><span class="lineCov">        152 :             error = undefined;</span>
<span class="lineNum">     752 </span><span class="lineCov">        152 :             try {</span>
<span class="lineNum">     753 </span><span class="lineCov">        152 :                 obj = new Constructor(undefined, options);</span>
<span class="lineNum">     754 </span><span class="lineCov">        152 :             } catch (e) {</span>
<span class="lineNum">     755 </span><span class="lineCov">        152 :                 error = e;</span>
<span class="lineNum">     756 </span><span class="lineCov">        152 :             }</span>
<span class="lineNum">     757 </span><span class="lineCov">        152 :             if (error === undefined) {</span>
<span class="lineNum">     758 </span><span class="lineCov">        152 :                 $ERROR(&quot;Invalid option value &quot; + value + &quot; for property &quot; + property + &quot; was not rejected.&quot;);</span>
<span class="lineNum">     759 </span><span class="lineCov">        152 :             } else if (error.name !== &quot;RangeError&quot;) {</span>
<span class="lineNum">     760 </span><span class="lineCov">        152 :                 $ERROR(&quot;Invalid option value &quot; + value + &quot; for property &quot; + property + &quot; was rejected with wrong error &quot; + error.name + &quot;.&quot;);</span>
<span class="lineNum">     761 </span><span class="lineCov">        152 :             }</span>
<span class="lineNum">     762 </span><span class="lineCov">        160 :         });</span>
<span class="lineNum">     763 </span><span class="lineCov">         48 :     }</span>
<span class="lineNum">     764 </span><span class="lineCov">         48 : </span>
<span class="lineNum">     765 </span><span class="lineCov">         48 :     // test that fallback value or another valid value is used if no options value is provided</span>
<span class="lineNum">     766 </span><span class="lineCov">         48 :     if (!noReturn) {</span>
<span class="lineNum">     767 </span><span class="lineCov">         48 :         options = {};</span>
<span class="lineNum">     768 </span><span class="lineCov">         48 :         addExtraOptions(options, undefined, testOptions);</span>
<span class="lineNum">     769 </span><span class="lineCov">         48 :         obj = new Constructor(undefined, options);</span>
<span class="lineNum">     770 </span><span class="lineCov">         48 :         actual = obj.resolvedOptions()[property];</span>
<span class="lineNum">     771 </span><span class="lineCov">         48 :         if (!(isOptional &amp;&amp; actual === undefined)) {</span>
<span class="lineNum">     772 </span><span class="lineCov">         48 :             if (fallback !== undefined) {</span>
<span class="lineNum">     773 </span><span class="lineCov">         48 :                 if (actual !== fallback) {</span>
<span class="lineNum">     774 </span><span class="lineCov">         48 :                     $ERROR(&quot;Option fallback value &quot; + fallback + &quot; for property &quot; + property +</span>
<span class="lineNum">     775 </span><span class="lineCov">         48 :                         &quot; was not used; got &quot; + actual + &quot; instead.&quot;);</span>
<span class="lineNum">     776 </span><span class="lineCov">         48 :                 }</span>
<span class="lineNum">     777 </span><span class="lineCov">         48 :             } else {</span>
<span class="lineNum">     778 </span><span class="lineCov">         48 :                 if (values.indexOf(actual) === -1 &amp;&amp; !(isILD &amp;&amp; actual === undefined)) {</span>
<span class="lineNum">     779 </span><span class="lineCov">         48 :                     $ERROR(&quot;Invalid value &quot; + actual + &quot; returned for property &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">     780 </span><span class="lineCov">         48 :                 }</span>
<span class="lineNum">     781 </span><span class="lineCov">         48 :             }</span>
<span class="lineNum">     782 </span><span class="lineCov">         48 :         }</span>
<span class="lineNum">     783 </span><span class="lineCov">         48 :     }</span>
<span class="lineNum">     784 </span><span class="lineCov">         48 : </span>
<span class="lineNum">     785 </span><span class="lineCov">         48 :     return true;</span>
<span class="lineNum">     786 </span><span class="lineCov">        164 : }</span>
<span class="lineNum">     787 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     788 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     789 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     790 </span><span class="lineCov">        142 :  * Tests whether the named property of the given object has a valid value</span>
<span class="lineNum">     791 </span><span class="lineCov">        142 :  * and the default attributes of the properties of an object literal.</span>
<span class="lineNum">     792 </span><span class="lineCov">        142 :  * @param {Object} obj the object to be tested.</span>
<span class="lineNum">     793 </span><span class="lineCov">        142 :  * @param {string} property the name of the property</span>
<span class="lineNum">     794 </span><span class="lineCov">        142 :  * @param {Function|Array} valid either a function that tests value for validity and returns a boolean,</span>
<span class="lineNum">     795 </span><span class="lineCov">        142 :  *     an array of valid values.</span>
<a name="796"><span class="lineNum">     796 </span><span class="lineCov">        142 :  * @exception if the property has an invalid value.</span></a>
<span class="lineNum">     797 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     798 </span><span class="lineCov">        178 : function testProperty(obj, property, valid) {</span>
<span class="lineNum">     799 </span><span class="lineCov">         42 :     var desc = Object.getOwnPropertyDescriptor(obj, property);</span>
<span class="lineNum">     800 </span><span class="lineCov">         42 :     if (!desc.writable) {</span>
<span class="lineNum">     801 </span><span class="lineCov">         42 :         $ERROR(&quot;Property &quot; + property + &quot; must be writable.&quot;);</span>
<span class="lineNum">     802 </span><span class="lineCov">         42 :     }</span>
<span class="lineNum">     803 </span><span class="lineCov">         42 :     if (!desc.enumerable) {</span>
<span class="lineNum">     804 </span><span class="lineCov">         42 :         $ERROR(&quot;Property &quot; + property + &quot; must be enumerable.&quot;);</span>
<span class="lineNum">     805 </span><span class="lineCov">         42 :     }</span>
<span class="lineNum">     806 </span><span class="lineCov">         42 :     if (!desc.configurable) {</span>
<span class="lineNum">     807 </span><span class="lineCov">         42 :         $ERROR(&quot;Property &quot; + property + &quot; must be configurable.&quot;);</span>
<span class="lineNum">     808 </span><span class="lineCov">         42 :     }</span>
<span class="lineNum">     809 </span><span class="lineCov">         42 :     var value = desc.value;</span>
<span class="lineNum">     810 </span><span class="lineCov">         42 :     var isValid = (typeof valid === &quot;function&quot;) ? valid(value) : (valid.indexOf(value) !== -1);</span>
<span class="lineNum">     811 </span><span class="lineCov">         42 :     if (!isValid) {</span>
<span class="lineNum">     812 </span><span class="lineCov">         42 :         $ERROR(&quot;Property value &quot; + value + &quot; is not allowed for property &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">     813 </span><span class="lineCov">         42 :     }</span>
<span class="lineNum">     814 </span><span class="lineCov">        178 : }</span>
<span class="lineNum">     815 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     816 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     817 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     818 </span><span class="lineCov">        142 :  * Tests whether the named property of the given object, if present at all, has a valid value</span>
<span class="lineNum">     819 </span><span class="lineCov">        142 :  * and the default attributes of the properties of an object literal.</span>
<span class="lineNum">     820 </span><span class="lineCov">        142 :  * @param {Object} obj the object to be tested.</span>
<span class="lineNum">     821 </span><span class="lineCov">        142 :  * @param {string} property the name of the property</span>
<span class="lineNum">     822 </span><span class="lineCov">        142 :  * @param {Function|Array} valid either a function that tests value for validity and returns a boolean,</span>
<span class="lineNum">     823 </span><span class="lineCov">        142 :  *     an array of valid values.</span>
<a name="824"><span class="lineNum">     824 </span><span class="lineCov">        142 :  * @exception if the property is present and has an invalid value.</span></a>
<span class="lineNum">     825 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     826 </span><span class="lineCov">        144 : function mayHaveProperty(obj, property, valid) {</span>
<span class="lineNum">     827 </span><span class="lineCov">          4 :     if (obj.hasOwnProperty(property)) {</span>
<span class="lineNum">     828 </span><span class="lineCov">          4 :         testProperty(obj, property, valid);</span>
<span class="lineNum">     829 </span><span class="lineCov">          4 :     }</span>
<span class="lineNum">     830 </span><span class="lineCov">        144 : }</span>
<span class="lineNum">     831 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     832 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     833 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     834 </span><span class="lineCov">        142 :  * Tests whether the given object has the named property with a valid value</span>
<span class="lineNum">     835 </span><span class="lineCov">        142 :  * and the default attributes of the properties of an object literal.</span>
<span class="lineNum">     836 </span><span class="lineCov">        142 :  * @param {Object} obj the object to be tested.</span>
<span class="lineNum">     837 </span><span class="lineCov">        142 :  * @param {string} property the name of the property</span>
<span class="lineNum">     838 </span><span class="lineCov">        142 :  * @param {Function|Array} valid either a function that tests value for validity and returns a boolean,</span>
<span class="lineNum">     839 </span><span class="lineCov">        142 :  *     an array of valid values.</span>
<a name="840"><span class="lineNum">     840 </span><span class="lineCov">        142 :  * @exception if the property is missing or has an invalid value.</span></a>
<span class="lineNum">     841 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     842 </span><span class="lineCov">        174 : function mustHaveProperty(obj, property, valid) {</span>
<span class="lineNum">     843 </span><span class="lineCov">         38 :     if (!obj.hasOwnProperty(property)) {</span>
<span class="lineNum">     844 </span><span class="lineCov">         38 :         $ERROR(&quot;Object is missing property &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">     845 </span><span class="lineCov">         38 :     }</span>
<span class="lineNum">     846 </span><span class="lineCov">         38 :     testProperty(obj, property, valid);</span>
<span class="lineNum">     847 </span><span class="lineCov">        174 : }</span>
<span class="lineNum">     848 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     849 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     850 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     851 </span><span class="lineCov">        142 :  * Tests whether the given object does not have the named property.</span>
<span class="lineNum">     852 </span><span class="lineCov">        142 :  * @param {Object} obj the object to be tested.</span>
<span class="lineNum">     853 </span><span class="lineCov">        142 :  * @param {string} property the name of the property</span>
<a name="854"><span class="lineNum">     854 </span><span class="lineCov">        142 :  * @exception if the property is present.</span></a>
<span class="lineNum">     855 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     856 </span><span class="lineCov">        160 : function mustNotHaveProperty(obj, property) {</span>
<span class="lineNum">     857 </span><span class="lineCov">         22 :     if (obj.hasOwnProperty(property)) {</span>
<span class="lineNum">     858 </span><span class="lineCov">         22 :         $ERROR(&quot;Object has property it mustn't have: &quot; + property + &quot;.&quot;);</span>
<span class="lineNum">     859 </span><span class="lineCov">         22 :     }</span>
<span class="lineNum">     860 </span><span class="lineCov">        160 : }</span>
<span class="lineNum">     861 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     862 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     863 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     864 </span><span class="lineCov">        142 :  * Properties of the RegExp constructor that may be affected by use of regular</span>
<span class="lineNum">     865 </span><span class="lineCov">        142 :  * expressions, and the default values of these properties. Properties are from</span>
<span class="lineNum">     866 </span><span class="lineCov">        142 :  * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Deprecated_and_obsolete_features#RegExp_Properties</span>
<span class="lineNum">     867 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     868 </span><span class="lineCov">        142 : var regExpProperties = [&quot;$1&quot;, &quot;$2&quot;, &quot;$3&quot;, &quot;$4&quot;, &quot;$5&quot;, &quot;$6&quot;, &quot;$7&quot;, &quot;$8&quot;, &quot;$9&quot;,</span>
<span class="lineNum">     869 </span><span class="lineCov">        142 :     &quot;$_&quot;, &quot;$*&quot;, &quot;$&amp;&quot;, &quot;$+&quot;, &quot;$`&quot;, &quot;$'&quot;,</span>
<span class="lineNum">     870 </span><span class="lineCov">        142 :     &quot;input&quot;, &quot;lastMatch&quot;, &quot;lastParen&quot;, &quot;leftContext&quot;, &quot;rightContext&quot;</span>
<a name="871"><span class="lineNum">     871 </span><span class="lineCov">        142 : ];</span></a>
<span class="lineNum">     872 </span><span class="lineCov">        142 : </span>
<a name="873"><span class="lineNum">     873 </span><span class="lineCov">        142 : var regExpPropertiesDefaultValues = (function () {</span></a>
<span class="lineNum">     874 </span><span class="lineCov">        142 :     var values = Object.create(null);</span>
<span class="lineNum">     875 </span><span class="lineCov">       2840 :     regExpProperties.forEach(function (property) {</span>
<span class="lineNum">     876 </span><span class="lineCov">       2840 :         values[property] = RegExp[property];</span>
<span class="lineNum">     877 </span><span class="lineCov">       2840 :     });</span>
<span class="lineNum">     878 </span><span class="lineCov">        142 :     return values;</span>
<span class="lineNum">     879 </span><span class="lineCov">        142 : }());</span>
<span class="lineNum">     880 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     881 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     882 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     883 </span><span class="lineCov">        142 :  * Tests that executing the provided function (which may use regular expressions</span>
<span class="lineNum">     884 </span><span class="lineCov">        142 :  * in its implementation) does not create or modify unwanted properties on the</span>
<a name="885"><span class="lineNum">     885 </span><span class="lineCov">        142 :  * RegExp constructor.</span></a>
<a name="886"><span class="lineNum">     886 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">     887 </span><span class="lineCov">        146 : function testForUnwantedRegExpChanges(testFunc) {</span>
<span class="lineNum">     888 </span><span class="lineCov">        200 :     regExpProperties.forEach(function (property) {</span>
<span class="lineNum">     889 </span><span class="lineCov">        200 :         RegExp[property] = regExpPropertiesDefaultValues[property];</span>
<a name="890"><span class="lineNum">     890 </span><span class="lineCov">        200 :     });</span></a>
<span class="lineNum">     891 </span><span class="lineCov">         10 :     testFunc();</span>
<span class="lineNum">     892 </span><span class="lineCov">        200 :     regExpProperties.forEach(function (property) {</span>
<span class="lineNum">     893 </span><span class="lineCov">        200 :         if (RegExp[property] !== regExpPropertiesDefaultValues[property]) {</span>
<span class="lineNum">     894 </span><span class="lineCov">        200 :             $ERROR(&quot;RegExp has unexpected property &quot; + property + &quot; with value &quot; +</span>
<span class="lineNum">     895 </span><span class="lineCov">        200 :                 RegExp[property] + &quot;.&quot;);</span>
<span class="lineNum">     896 </span><span class="lineCov">        200 :         }</span>
<span class="lineNum">     897 </span><span class="lineCov">        200 :     });</span>
<span class="lineNum">     898 </span><span class="lineCov">        146 : }</span>
<span class="lineNum">     899 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     900 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     901 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     902 </span><span class="lineCov">        142 :  * Tests whether name is a valid BCP 47 numbering system name</span>
<span class="lineNum">     903 </span><span class="lineCov">        142 :  * and not excluded from use in the ECMAScript Internationalization API.</span>
<span class="lineNum">     904 </span><span class="lineCov">        142 :  * @param {string} name the name to be tested.</span>
<span class="lineNum">     905 </span><span class="lineCov">        142 :  * @return {boolean} whether name is a valid BCP 47 numbering system name and</span>
<span class="lineNum">     906 </span><span class="lineCov">        142 :  *     allowed for use in the ECMAScript Internationalization API.</span>
<a name="907"><span class="lineNum">     907 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">     908 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     909 </span><span class="lineCov">        142 : function isValidNumberingSystem(name) {</span>
<span class="lineNum">     910 </span><span class="lineCov">          4 :     </span>
<span class="lineNum">     911 </span><span class="lineCov">          4 :     // source: CLDR file common/bcp47/number.xml; version CLDR 21.</span>
<span class="lineNum">     912 </span><span class="lineCov">          4 :     var numberingSystems = [</span>
<span class="lineNum">     913 </span><span class="lineCov">          4 :         &quot;arab&quot;,</span>
<span class="lineNum">     914 </span><span class="lineCov">          4 :         &quot;arabext&quot;,</span>
<span class="lineNum">     915 </span><span class="lineCov">          4 :         &quot;armn&quot;,</span>
<span class="lineNum">     916 </span><span class="lineCov">          4 :         &quot;armnlow&quot;,</span>
<span class="lineNum">     917 </span><span class="lineCov">          4 :         &quot;bali&quot;,</span>
<span class="lineNum">     918 </span><span class="lineCov">          4 :         &quot;beng&quot;,</span>
<span class="lineNum">     919 </span><span class="lineCov">          4 :         &quot;brah&quot;,</span>
<span class="lineNum">     920 </span><span class="lineCov">          4 :         &quot;cakm&quot;,</span>
<span class="lineNum">     921 </span><span class="lineCov">          4 :         &quot;cham&quot;,</span>
<span class="lineNum">     922 </span><span class="lineCov">          4 :         &quot;deva&quot;,</span>
<span class="lineNum">     923 </span><span class="lineCov">          4 :         &quot;ethi&quot;,</span>
<span class="lineNum">     924 </span><span class="lineCov">          4 :         &quot;finance&quot;,</span>
<span class="lineNum">     925 </span><span class="lineCov">          4 :         &quot;fullwide&quot;,</span>
<span class="lineNum">     926 </span><span class="lineCov">          4 :         &quot;geor&quot;,</span>
<span class="lineNum">     927 </span><span class="lineCov">          4 :         &quot;grek&quot;,</span>
<span class="lineNum">     928 </span><span class="lineCov">          4 :         &quot;greklow&quot;,</span>
<span class="lineNum">     929 </span><span class="lineCov">          4 :         &quot;gujr&quot;,</span>
<span class="lineNum">     930 </span><span class="lineCov">          4 :         &quot;guru&quot;,</span>
<span class="lineNum">     931 </span><span class="lineCov">          4 :         &quot;hanidec&quot;,</span>
<span class="lineNum">     932 </span><span class="lineCov">          4 :         &quot;hans&quot;,</span>
<span class="lineNum">     933 </span><span class="lineCov">          4 :         &quot;hansfin&quot;,</span>
<span class="lineNum">     934 </span><span class="lineCov">          4 :         &quot;hant&quot;,</span>
<span class="lineNum">     935 </span><span class="lineCov">          4 :         &quot;hantfin&quot;,</span>
<span class="lineNum">     936 </span><span class="lineCov">          4 :         &quot;hebr&quot;,</span>
<span class="lineNum">     937 </span><span class="lineCov">          4 :         &quot;java&quot;,</span>
<span class="lineNum">     938 </span><span class="lineCov">          4 :         &quot;jpan&quot;,</span>
<span class="lineNum">     939 </span><span class="lineCov">          4 :         &quot;jpanfin&quot;,</span>
<span class="lineNum">     940 </span><span class="lineCov">          4 :         &quot;kali&quot;,</span>
<span class="lineNum">     941 </span><span class="lineCov">          4 :         &quot;khmr&quot;,</span>
<span class="lineNum">     942 </span><span class="lineCov">          4 :         &quot;knda&quot;,</span>
<span class="lineNum">     943 </span><span class="lineCov">          4 :         &quot;osma&quot;,            </span>
<span class="lineNum">     944 </span><span class="lineCov">          4 :         &quot;lana&quot;,</span>
<span class="lineNum">     945 </span><span class="lineCov">          4 :         &quot;lanatham&quot;,</span>
<span class="lineNum">     946 </span><span class="lineCov">          4 :         &quot;laoo&quot;,</span>
<span class="lineNum">     947 </span><span class="lineCov">          4 :         &quot;latn&quot;,</span>
<span class="lineNum">     948 </span><span class="lineCov">          4 :         &quot;lepc&quot;,</span>
<span class="lineNum">     949 </span><span class="lineCov">          4 :         &quot;limb&quot;,</span>
<span class="lineNum">     950 </span><span class="lineCov">          4 :         &quot;mlym&quot;,</span>
<span class="lineNum">     951 </span><span class="lineCov">          4 :         &quot;mong&quot;,</span>
<span class="lineNum">     952 </span><span class="lineCov">          4 :         &quot;mtei&quot;,</span>
<span class="lineNum">     953 </span><span class="lineCov">          4 :         &quot;mymr&quot;,</span>
<span class="lineNum">     954 </span><span class="lineCov">          4 :         &quot;mymrshan&quot;,</span>
<span class="lineNum">     955 </span><span class="lineCov">          4 :         &quot;native&quot;,</span>
<span class="lineNum">     956 </span><span class="lineCov">          4 :         &quot;nkoo&quot;,</span>
<span class="lineNum">     957 </span><span class="lineCov">          4 :         &quot;olck&quot;,</span>
<span class="lineNum">     958 </span><span class="lineCov">          4 :         &quot;orya&quot;,</span>
<span class="lineNum">     959 </span><span class="lineCov">          4 :         &quot;roman&quot;,</span>
<span class="lineNum">     960 </span><span class="lineCov">          4 :         &quot;romanlow&quot;,</span>
<span class="lineNum">     961 </span><span class="lineCov">          4 :         &quot;saur&quot;,</span>
<span class="lineNum">     962 </span><span class="lineCov">          4 :         &quot;shrd&quot;,</span>
<span class="lineNum">     963 </span><span class="lineCov">          4 :         &quot;sora&quot;,</span>
<span class="lineNum">     964 </span><span class="lineCov">          4 :         &quot;sund&quot;,</span>
<span class="lineNum">     965 </span><span class="lineCov">          4 :         &quot;talu&quot;,</span>
<span class="lineNum">     966 </span><span class="lineCov">          4 :         &quot;takr&quot;,</span>
<span class="lineNum">     967 </span><span class="lineCov">          4 :         &quot;taml&quot;,</span>
<span class="lineNum">     968 </span><span class="lineCov">          4 :         &quot;tamldec&quot;,</span>
<span class="lineNum">     969 </span><span class="lineCov">          4 :         &quot;telu&quot;,</span>
<span class="lineNum">     970 </span><span class="lineCov">          4 :         &quot;thai&quot;,</span>
<span class="lineNum">     971 </span><span class="lineCov">          4 :         &quot;tibt&quot;,</span>
<span class="lineNum">     972 </span><span class="lineCov">          4 :         &quot;traditio&quot;,</span>
<span class="lineNum">     973 </span><span class="lineCov">          4 :         &quot;vaii&quot;</span>
<span class="lineNum">     974 </span><span class="lineCov">          4 :     ];</span>
<span class="lineNum">     975 </span><span class="lineCov">          4 :     </span>
<span class="lineNum">     976 </span><span class="lineCov">          4 :     var excluded = [</span>
<span class="lineNum">     977 </span><span class="lineCov">          4 :         &quot;finance&quot;,</span>
<span class="lineNum">     978 </span><span class="lineCov">          4 :         &quot;native&quot;,</span>
<span class="lineNum">     979 </span><span class="lineCov">          4 :         &quot;traditio&quot;</span>
<span class="lineNum">     980 </span><span class="lineCov">          4 :     ];</span>
<span class="lineNum">     981 </span><span class="lineCov">          4 :         </span>
<span class="lineNum">     982 </span><span class="lineCov">          4 :     </span>
<span class="lineNum">     983 </span><span class="lineCov">          4 :     return numberingSystems.indexOf(name) !== -1 &amp;&amp; excluded.indexOf(name) === -1;</span>
<span class="lineNum">     984 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">     985 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     986 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     987 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">     988 </span><span class="lineCov">        142 :  * Provides the digits of numbering systems with simple digit mappings,</span>
<span class="lineNum">     989 </span><span class="lineCov">        142 :  * as specified in 11.3.2.</span>
<span class="lineNum">     990 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">     991 </span><span class="lineCov">        142 : </span>
<span class="lineNum">     992 </span><span class="lineCov">        142 : var numberingSystemDigits = {</span>
<span class="lineNum">     993 </span><span class="lineCov">        142 :     arab: &quot;٠١٢٣٤٥٦٧٨٩&quot;,</span>
<span class="lineNum">     994 </span><span class="lineCov">        142 :     arabext: &quot;۰۱۲۳۴۵۶۷۸۹&quot;,</span>
<span class="lineNum">     995 </span><span class="lineCov">        142 :     beng: &quot;০১২৩৪৫৬৭৮৯&quot;,</span>
<span class="lineNum">     996 </span><span class="lineCov">        142 :     deva: &quot;०१२३४५६७८९&quot;,</span>
<span class="lineNum">     997 </span><span class="lineCov">        142 :     fullwide: &quot;０１２３４５６７８９&quot;,</span>
<span class="lineNum">     998 </span><span class="lineCov">        142 :     gujr: &quot;૦૧૨૩૪૫૬૭૮૯&quot;,</span>
<span class="lineNum">     999 </span><span class="lineCov">        142 :     guru: &quot;੦੧੨੩੪੫੬੭੮੯&quot;,</span>
<span class="lineNum">    1000 </span><span class="lineCov">        142 :     hanidec: &quot;〇一二三四五六七八九&quot;,</span>
<span class="lineNum">    1001 </span><span class="lineCov">        142 :     khmr: &quot;០១២៣៤៥៦៧៨៩&quot;,</span>
<span class="lineNum">    1002 </span><span class="lineCov">        142 :     knda: &quot;೦೧೨೩೪೫೬೭೮೯&quot;,</span>
<span class="lineNum">    1003 </span><span class="lineCov">        142 :     laoo: &quot;໐໑໒໓໔໕໖໗໘໙&quot;,</span>
<span class="lineNum">    1004 </span><span class="lineCov">        142 :     latn: &quot;0123456789&quot;,</span>
<span class="lineNum">    1005 </span><span class="lineCov">        142 :     mlym: &quot;൦൧൨൩൪൫൬൭൮൯&quot;,</span>
<span class="lineNum">    1006 </span><span class="lineCov">        142 :     mong: &quot;᠐᠑᠒᠓᠔᠕᠖᠗᠘᠙&quot;,</span>
<span class="lineNum">    1007 </span><span class="lineCov">        142 :     mymr: &quot;၀၁၂၃၄၅၆၇၈၉&quot;,</span>
<span class="lineNum">    1008 </span><span class="lineCov">        142 :     orya: &quot;୦୧୨୩୪୫୬୭୮୯&quot;,</span>
<span class="lineNum">    1009 </span><span class="lineCov">        142 :     tamldec: &quot;௦௧௨௩௪௫௬௭௮௯&quot;,</span>
<span class="lineNum">    1010 </span><span class="lineCov">        142 :     telu: &quot;౦౧౨౩౪౫౬౭౮౯&quot;,</span>
<span class="lineNum">    1011 </span><span class="lineCov">        142 :     thai: &quot;๐๑๒๓๔๕๖๗๘๙&quot;,</span>
<span class="lineNum">    1012 </span><span class="lineCov">        142 :     tibt: &quot;༠༡༢༣༤༥༦༧༨༩&quot;</span>
<span class="lineNum">    1013 </span><span class="lineCov">        142 : };</span>
<span class="lineNum">    1014 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1015 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1016 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1017 </span><span class="lineCov">        142 :  * Tests that number formatting is handled correctly. The function checks that the</span>
<span class="lineNum">    1018 </span><span class="lineCov">        142 :  * digit sequences in formatted output are as specified, converted to the</span>
<span class="lineNum">    1019 </span><span class="lineCov">        142 :  * selected numbering system, and embedded in consistent localized patterns.</span>
<span class="lineNum">    1020 </span><span class="lineCov">        142 :  * @param {Array} locales the locales to be tested.</span>
<span class="lineNum">    1021 </span><span class="lineCov">        142 :  * @param {Array} numberingSystems the numbering systems to be tested.</span>
<span class="lineNum">    1022 </span><span class="lineCov">        142 :  * @param {Object} options the options to pass to Intl.NumberFormat. Options</span>
<span class="lineNum">    1023 </span><span class="lineCov">        142 :  *     must include {useGrouping: false}, and must cause 1.1 to be formatted</span>
<span class="lineNum">    1024 </span><span class="lineCov">        142 :  *     pre- and post-decimal digits.</span>
<span class="lineNum">    1025 </span><span class="lineCov">        142 :  * @param {Object} testData maps input data (in ES5 9.3.1 format) to expected output strings</span>
<span class="lineNum">    1026 </span><span class="lineCov">        142 :  *     in unlocalized format with Western digits.</span>
<a name="1027"><span class="lineNum">    1027 </span><span class="lineCov">        142 :  */</span></a>
<a name="1028"><span class="lineNum">    1028 </span><span class="lineCov">        142 : </span></a>
<a name="1029"><span class="lineNum">    1029 </span><span class="lineCov">        142 : function testNumberFormat(locales, numberingSystems, options, testData) {</span></a>
<span class="lineNum">    1030 </span><span class="lineCov">         20 :     locales.forEach(function (locale) {</span>
<span class="lineNum">    1031 </span><span class="lineCov">         80 :         numberingSystems.forEach(function (numbering) {</span>
<span class="lineNum">    1032 </span><span class="lineCov">         80 :             var digits = numberingSystemDigits[numbering];</span>
<a name="1033"><span class="lineNum">    1033 </span><span class="lineCov">         80 :             var format = new Intl.NumberFormat([locale + &quot;-u-nu-&quot; + numbering], options);</span></a>
<span class="lineNum">    1034 </span><span class="lineCov">         80 :     </span>
<span class="lineNum">    1035 </span><span class="lineCov">        160 :             function getPatternParts(positive) {</span>
<span class="lineNum">    1036 </span><span class="lineCov">        160 :                 var n = positive ? 1.1 : -1.1;</span>
<span class="lineNum">    1037 </span><span class="lineCov">        160 :                 var formatted = format.format(n);</span>
<span class="lineNum">    1038 </span><span class="lineCov">        160 :                 var oneoneRE = &quot;([^&quot; + digits + &quot;]*)[&quot; + digits + &quot;]+([^&quot; + digits + &quot;]+)[&quot; + digits + &quot;]+([^&quot; + digits + &quot;]*)&quot;;</span>
<span class="lineNum">    1039 </span><span class="lineCov">        160 :                 var match = formatted.match(new RegExp(oneoneRE));</span>
<span class="lineNum">    1040 </span><span class="lineCov">        160 :                 if (match === null) {</span>
<span class="lineNum">    1041 </span><span class="lineCov">        160 :                     $ERROR(&quot;Unexpected formatted &quot; + n + &quot; for &quot; +</span>
<span class="lineNum">    1042 </span><span class="lineCov">        160 :                         format.resolvedOptions().locale + &quot; and options &quot; +</span>
<span class="lineNum">    1043 </span><span class="lineCov">        160 :                         JSON.stringify(options) + &quot;: &quot; + formatted);</span>
<span class="lineNum">    1044 </span><span class="lineCov">        160 :                 }</span>
<span class="lineNum">    1045 </span><span class="lineCov">        160 :                 return match;</span>
<a name="1046"><span class="lineNum">    1046 </span><span class="lineCov">        160 :             }</span></a>
<a name="1047"><span class="lineNum">    1047 </span><span class="lineCov">         80 :             </span></a>
<span class="lineNum">    1048 </span><span class="lineCov">       4160 :             function toNumbering(raw) {</span>
<span class="lineNum">    1049 </span><span class="lineCov">      19520 :                 return raw.replace(/[0-9]/g, function (digit) {</span>
<span class="lineNum">    1050 </span><span class="lineCov">      19520 :                     return digits[digit.charCodeAt(0) - &quot;0&quot;.charCodeAt(0)];</span>
<span class="lineNum">    1051 </span><span class="lineCov">      19520 :                 });</span>
<a name="1052"><span class="lineNum">    1052 </span><span class="lineCov">       4160 :             }</span></a>
<span class="lineNum">    1053 </span><span class="lineCov">         80 :             </span>
<span class="lineNum">    1054 </span><span class="lineCov">       2240 :             function buildExpected(raw, patternParts) {</span>
<span class="lineNum">    1055 </span><span class="lineCov">       2240 :                 var period = raw.indexOf(&quot;.&quot;);</span>
<span class="lineNum">    1056 </span><span class="lineCov">       2240 :                 if (period === -1) {</span>
<span class="lineNum">    1057 </span><span class="lineCov">       2240 :                     return patternParts[1] + toNumbering(raw) + patternParts[3];</span>
<span class="lineNum">    1058 </span><span class="lineCov">       2240 :                 } else {</span>
<span class="lineNum">    1059 </span><span class="lineCov">       2240 :                     return patternParts[1] + </span>
<span class="lineNum">    1060 </span><span class="lineCov">       2240 :                         toNumbering(raw.substring(0, period)) +</span>
<span class="lineNum">    1061 </span><span class="lineCov">       2240 :                         patternParts[2] +</span>
<span class="lineNum">    1062 </span><span class="lineCov">       2240 :                         toNumbering(raw.substring(period + 1)) +</span>
<span class="lineNum">    1063 </span><span class="lineCov">       2240 :                         patternParts[3];</span>
<span class="lineNum">    1064 </span><span class="lineCov">       2240 :                 }</span>
<span class="lineNum">    1065 </span><span class="lineCov">       2240 :             }</span>
<span class="lineNum">    1066 </span><span class="lineCov">         80 :             </span>
<span class="lineNum">    1067 </span><span class="lineCov">         80 :             if (format.resolvedOptions().numberingSystem === numbering) {</span>
<span class="lineNum">    1068 </span><span class="lineCov">         80 :                 // figure out prefixes, infixes, suffixes for positive and negative values</span>
<span class="lineNum">    1069 </span><span class="lineCov">         80 :                 var posPatternParts = getPatternParts(true);</span>
<a name="1070"><span class="lineNum">    1070 </span><span class="lineCov">         80 :                 var negPatternParts = getPatternParts(false);</span></a>
<span class="lineNum">    1071 </span><span class="lineCov">         80 :                 </span>
<span class="lineNum">    1072 </span><span class="lineCov">       2240 :                 Object.getOwnPropertyNames(testData).forEach(function (input) {</span>
<span class="lineNum">    1073 </span><span class="lineCov">       2240 :                     var rawExpected = testData[input];</span>
<span class="lineNum">    1074 </span><span class="lineCov">       2240 :                     var patternParts;</span>
<span class="lineNum">    1075 </span><span class="lineCov">       2240 :                     if (rawExpected[0] === &quot;-&quot;) {</span>
<span class="lineNum">    1076 </span><span class="lineCov">       2240 :                         patternParts = negPatternParts;</span>
<span class="lineNum">    1077 </span><span class="lineCov">       2240 :                         rawExpected = rawExpected.substring(1);</span>
<span class="lineNum">    1078 </span><span class="lineCov">       2240 :                     } else {</span>
<span class="lineNum">    1079 </span><span class="lineCov">       2240 :                         patternParts = posPatternParts;</span>
<span class="lineNum">    1080 </span><span class="lineCov">       2240 :                     }</span>
<span class="lineNum">    1081 </span><span class="lineCov">       2240 :                     var expected = buildExpected(rawExpected, patternParts);</span>
<span class="lineNum">    1082 </span><span class="lineCov">       2240 :                     var actual = format.format(input);</span>
<span class="lineNum">    1083 </span><span class="lineCov">       2240 :                     if (actual !== expected) {</span>
<span class="lineNum">    1084 </span><span class="lineCov">       2240 :                         $ERROR(&quot;Formatted value for &quot; + input + &quot;, &quot; +</span>
<span class="lineNum">    1085 </span><span class="lineCov">       2240 :                         format.resolvedOptions().locale + &quot; and options &quot; +</span>
<span class="lineNum">    1086 </span><span class="lineCov">       2240 :                         JSON.stringify(options) + &quot; is &quot; + actual + &quot;; expected &quot; + expected + &quot;.&quot;);</span>
<span class="lineNum">    1087 </span><span class="lineCov">       2240 :                     }</span>
<span class="lineNum">    1088 </span><span class="lineCov">       2240 :                 });</span>
<span class="lineNum">    1089 </span><span class="lineCov">         80 :             }</span>
<span class="lineNum">    1090 </span><span class="lineCov">         80 :         });</span>
<span class="lineNum">    1091 </span><span class="lineCov">         20 :     });</span>
<span class="lineNum">    1092 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">    1093 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1094 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1095 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1096 </span><span class="lineCov">        142 :  * Return the components of date-time formats.</span>
<span class="lineNum">    1097 </span><span class="lineCov">        142 :  * @return {Array} an array with all date-time components.</span>
<a name="1098"><span class="lineNum">    1098 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">    1099 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1100 </span><span class="lineCov">        294 : function getDateTimeComponents() {</span>
<span class="lineNum">    1101 </span><span class="lineCov">        158 :     return [&quot;weekday&quot;, &quot;era&quot;, &quot;year&quot;, &quot;month&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;, &quot;timeZoneName&quot;];</span>
<span class="lineNum">    1102 </span><span class="lineCov">        294 : }</span>
<span class="lineNum">    1103 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1104 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1105 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1106 </span><span class="lineCov">        142 :  * Return the valid values for the given date-time component, as specified</span>
<span class="lineNum">    1107 </span><span class="lineCov">        142 :  * by the table in section 12.1.1.</span>
<span class="lineNum">    1108 </span><span class="lineCov">        142 :  * @param {string} component a date-time component.</span>
<span class="lineNum">    1109 </span><span class="lineCov">        142 :  * @return {Array} an array with the valid values for the component.</span>
<a name="1110"><span class="lineNum">    1110 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">    1111 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1112 </span><span class="lineCov">        570 : function getDateTimeComponentValues(component) {</span>
<span class="lineNum">    1113 </span><span class="lineCov">        432 :     </span>
<span class="lineNum">    1114 </span><span class="lineCov">        432 :     var components = {</span>
<span class="lineNum">    1115 </span><span class="lineCov">        432 :         weekday: [&quot;narrow&quot;, &quot;short&quot;, &quot;long&quot;],</span>
<span class="lineNum">    1116 </span><span class="lineCov">        432 :         era: [&quot;narrow&quot;, &quot;short&quot;, &quot;long&quot;],</span>
<span class="lineNum">    1117 </span><span class="lineCov">        432 :         year: [&quot;2-digit&quot;, &quot;numeric&quot;],</span>
<span class="lineNum">    1118 </span><span class="lineCov">        432 :         month: [&quot;2-digit&quot;, &quot;numeric&quot;, &quot;narrow&quot;, &quot;short&quot;, &quot;long&quot;],</span>
<span class="lineNum">    1119 </span><span class="lineCov">        432 :         day: [&quot;2-digit&quot;, &quot;numeric&quot;],</span>
<span class="lineNum">    1120 </span><span class="lineCov">        432 :         hour: [&quot;2-digit&quot;, &quot;numeric&quot;],</span>
<span class="lineNum">    1121 </span><span class="lineCov">        432 :         minute: [&quot;2-digit&quot;, &quot;numeric&quot;],</span>
<span class="lineNum">    1122 </span><span class="lineCov">        432 :         second: [&quot;2-digit&quot;, &quot;numeric&quot;],</span>
<span class="lineNum">    1123 </span><span class="lineCov">        432 :         timeZoneName: [&quot;short&quot;, &quot;long&quot;]</span>
<span class="lineNum">    1124 </span><span class="lineCov">        432 :     };</span>
<span class="lineNum">    1125 </span><span class="lineCov">        432 :     </span>
<span class="lineNum">    1126 </span><span class="lineCov">        432 :     var result = components[component];</span>
<span class="lineNum">    1127 </span><span class="lineCov">        432 :     if (result === undefined) {</span>
<span class="lineNum">    1128 </span><span class="lineCov">        432 :         $ERROR(&quot;Internal error: No values defined for date-time component &quot; + component + &quot;.&quot;);</span>
<span class="lineNum">    1129 </span><span class="lineCov">        432 :     }</span>
<span class="lineNum">    1130 </span><span class="lineCov">        432 :     return result;</span>
<span class="lineNum">    1131 </span><span class="lineCov">        570 : }</span>
<span class="lineNum">    1132 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1133 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1134 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1135 </span><span class="lineCov">        142 :  * Tests that the given value is valid for the given date-time component.</span>
<span class="lineNum">    1136 </span><span class="lineCov">        142 :  * @param {string} component a date-time component.</span>
<span class="lineNum">    1137 </span><span class="lineCov">        142 :  * @param {string} value the value to be tested.</span>
<span class="lineNum">    1138 </span><span class="lineCov">        142 :  * @return {boolean} true if the test succeeds.</span>
<span class="lineNum">    1139 </span><span class="lineCov">        142 :  * @exception if the test fails.</span>
<a name="1140"><span class="lineNum">    1140 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">    1141 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1142 </span><span class="lineCov">        554 : function testValidDateTimeComponentValue(component, value) {</span>
<span class="lineNum">    1143 </span><span class="lineCov">        414 :     if (getDateTimeComponentValues(component).indexOf(value) === -1) {</span>
<span class="lineNum">    1144 </span><span class="lineCov">        414 :         $ERROR(&quot;Invalid value &quot; + value + &quot; for date-time component &quot; + component + &quot;.&quot;);</span>
<span class="lineNum">    1145 </span><span class="lineCov">        414 :     }</span>
<span class="lineNum">    1146 </span><span class="lineCov">        414 :     return true;</span>
<span class="lineNum">    1147 </span><span class="lineCov">        554 : }</span>
<span class="lineNum">    1148 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1149 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1150 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1151 </span><span class="lineCov">        142 :  * @description Tests whether timeZone is a String value representing a</span>
<span class="lineNum">    1152 </span><span class="lineCov">        142 :  * structurally valid and canonicalized time zone name, as defined in</span>
<span class="lineNum">    1153 </span><span class="lineCov">        142 :  * sections 6.4.1 and 6.4.2 of the ECMAScript Internationalization API</span>
<span class="lineNum">    1154 </span><span class="lineCov">        142 :  * Specification.</span>
<span class="lineNum">    1155 </span><span class="lineCov">        142 :  * @param {String} timeZone the string to be tested.</span>
<span class="lineNum">    1156 </span><span class="lineCov">        142 :  * @result {Boolean} whether the test succeeded.</span>
<a name="1157"><span class="lineNum">    1157 </span><span class="lineCov">        142 :  */</span></a>
<span class="lineNum">    1158 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1159 </span><span class="lineCov">        142 : function isCanonicalizedStructurallyValidTimeZoneName(timeZone) {</span>
<span class="lineNum">    1160 </span><span class="lineCov">          2 :     /**</span>
<span class="lineNum">    1161 </span><span class="lineCov">          2 :      * Regular expression defining IANA Time Zone names.</span>
<span class="lineNum">    1162 </span><span class="lineCov">          2 :      *</span>
<span class="lineNum">    1163 </span><span class="lineCov">          2 :      * Spec: IANA Time Zone Database, Theory file</span>
<span class="lineNum">    1164 </span><span class="lineCov">          2 :      */</span>
<span class="lineNum">    1165 </span><span class="lineCov">          2 :     var fileNameComponent = &quot;(?:[A-Za-z_]|\\.(?!\\.?(?:/|$)))[A-Za-z.\\-_]{0,13}&quot;;</span>
<span class="lineNum">    1166 </span><span class="lineCov">          2 :     var fileName = fileNameComponent + &quot;(?:/&quot; + fileNameComponent + &quot;)*&quot;;</span>
<span class="lineNum">    1167 </span><span class="lineCov">          2 :     var etcName = &quot;(?:Etc/)?GMT[+-]\\d{1,2}&quot;;</span>
<span class="lineNum">    1168 </span><span class="lineCov">          2 :     var systemVName = &quot;SystemV/[A-Z]{3}\\d{1,2}(?:[A-Z]{3})?&quot;;</span>
<span class="lineNum">    1169 </span><span class="lineCov">          2 :     var legacyName = etcName + &quot;|&quot; + systemVName + &quot;|CST6CDT|EST5EDT|MST7MDT|PST8PDT|NZ|Canada/East-Saskatchewan&quot;;</span>
<span class="lineNum">    1170 </span><span class="lineCov">          2 :     var zoneNamePattern = new RegExp(&quot;^(?:&quot; + fileName + &quot;|&quot; + legacyName + &quot;)$&quot;);</span>
<span class="lineNum">    1171 </span><span class="lineCov">          2 : </span>
<span class="lineNum">    1172 </span><span class="lineCov">          2 :     if (typeof timeZone !== &quot;string&quot;) {</span>
<span class="lineNum">    1173 </span><span class="lineCov">          2 :         return false;</span>
<span class="lineNum">    1174 </span><span class="lineCov">          2 :     }</span>
<span class="lineNum">    1175 </span><span class="lineCov">          2 :     // 6.4.2 CanonicalizeTimeZoneName (timeZone), step 3</span>
<span class="lineNum">    1176 </span><span class="lineCov">          2 :     if (timeZone === &quot;UTC&quot;) {</span>
<span class="lineNum">    1177 </span><span class="lineCov">          2 :         return true;</span>
<span class="lineNum">    1178 </span><span class="lineCov">          2 :     }</span>
<span class="lineNum">    1179 </span><span class="lineCov">          2 :     // 6.4.2 CanonicalizeTimeZoneName (timeZone), step 3</span>
<span class="lineNum">    1180 </span><span class="lineCov">          2 :     if (timeZone === &quot;Etc/UTC&quot; || timeZone === &quot;Etc/GMT&quot;) {</span>
<span class="lineNum">    1181 </span><span class="lineCov">          2 :         return false;</span>
<span class="lineNum">    1182 </span><span class="lineCov">          2 :     }</span>
<span class="lineNum">    1183 </span><span class="lineCov">          2 :     return zoneNamePattern.test(timeZone);</span>
<span class="lineNum">    1184 </span><span class="lineCov">        142 : }</span>
<span class="lineNum">    1185 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1186 </span><span class="lineCov">        142 : </span>
<span class="lineNum">    1187 </span><span class="lineCov">        142 : /**</span>
<span class="lineNum">    1188 </span><span class="lineCov">        142 :  * Verifies that the actual array matches the expected one in length, elements,</span>
<span class="lineNum">    1189 </span><span class="lineCov">        142 :  * and element order.</span>
<span class="lineNum">    1190 </span><span class="lineCov">        142 :  * @param {Array} expected the expected array.</span>
<span class="lineNum">    1191 </span><span class="lineCov">        142 :  * @param {Array} actual the actual array.</span>
<span class="lineNum">    1192 </span><span class="lineCov">        142 :  * @return {boolean} true if the test succeeds.</span>
<a name="1193"><span class="lineNum">    1193 </span><span class="lineCov">        142 :  * @exception if the test fails.</span></a>
<span class="lineNum">    1194 </span><span class="lineCov">        142 :  */</span>
<span class="lineNum">    1195 </span><span class="lineCov">        492 : function testArraysAreSame(expected, actual) {</span>
<span class="lineNum">    1196 </span><span class="lineCov">        372 :     var i;</span>
<span class="lineNum">    1197 </span><span class="lineCov">        372 :     for (i = 0; i &lt; Math.max(actual.length, expected.length); i++) {</span>
<span class="lineNum">    1198 </span><span class="lineCov">        372 :         if (actual[i] !== expected[i]) {</span>
<span class="lineNum">    1199 </span><span class="lineCov">        372 :             $ERROR(&quot;Result array element at index &quot; + i + &quot; should be \&quot;&quot; +</span>
<span class="lineNum">    1200 </span><span class="lineCov">        372 :                 expected[i] + &quot;\&quot; but is \&quot;&quot; + actual[i] + &quot;\&quot;.&quot;);</span>
<span class="lineNum">    1201 </span><span class="lineCov">        372 :         }</span>
<span class="lineNum">    1202 </span><span class="lineCov">        372 :     }</span>
<span class="lineNum">    1203 </span><span class="lineCov">        372 :     return true;</span>
<span class="lineNum">    1204 </span><span class="lineCov">        492 : }</span>
<span class="lineNum">    1205 </span><span class="lineCov">        142 : </span>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.10</a></td></tr>
  </table>
  <br>

</body>
</html>
